(this["webpackJsonpsailplane-web"]=this["webpackJsonpsailplane-web"]||[]).push([[1],{1035:function(e,t){},108:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),a=n.n(r),i=n(6),o=n(17),c=n(27);function l(){var e=Object(c.d)((function(e){return e.tempData.status})),t=e.message,n=e.isError,r=e.isInfo,l={container:{position:"fixed",bottom:10,backgroundColor:n?i.b:i.j,padding:8,borderRadius:4,fontFamily:"Open Sans",color:"#FFF",fontSize:14,lineHeight:14,display:"flex",alignItems:"center",height:18,opacity:t?1:0},icon:{marginRight:4}},s=o.l;n&&(s=o.a);var u=s;return a.a.createElement("div",{style:l.container},r?null:a.a.createElement(u,{color:"#FFF",size:16,style:l.icon,className:n?"":"rotating"}),a.a.createElement("span",{style:l.message},t))}},1098:function(e,t){},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),a=n.n(r),i=n(17),o=n(6),c={infoItem:{display:"flex",alignItems:"center",fontSize:14,marginBottom:8},icon:{marginRight:8,width:16,height:16,flexShrink:0}};function l(e){var t=e.title;return a.a.createElement("div",{style:c.infoItem},a.a.createElement(i.c,{color:o.m,size:16,style:c.icon}),a.a.createElement("span",null,t))}},1106:function(e,t){},1108:function(e,t){},1184:function(e,t){},1189:function(e,t){},12:function(e,t,n){"use strict";n.d(t,"h",(function(){return O})),n.d(t,"n",(function(){return S})),n.d(t,"k",(function(){return R})),n.d(t,"p",(function(){return A})),n.d(t,"w",(function(){return L})),n.d(t,"l",(function(){return W})),n.d(t,"i",(function(){return P})),n.d(t,"y",(function(){return _})),n.d(t,"v",(function(){return M})),n.d(t,"m",(function(){return V})),n.d(t,"q",(function(){return K})),n.d(t,"o",(function(){return Y})),n.d(t,"f",(function(){return q})),n.d(t,"x",(function(){return G})),n.d(t,"z",(function(){return X})),n.d(t,"t",(function(){return J})),n.d(t,"s",(function(){return Z})),n.d(t,"A",(function(){return $})),n.d(t,"a",(function(){return Q})),n.d(t,"D",(function(){return ee})),n.d(t,"j",(function(){return te})),n.d(t,"u",(function(){return ne})),n.d(t,"c",(function(){return re})),n.d(t,"e",(function(){return ae})),n.d(t,"C",(function(){return ie})),n.d(t,"d",(function(){return oe})),n.d(t,"b",(function(){return le})),n.d(t,"B",(function(){return se})),n.d(t,"g",(function(){return ue})),n.d(t,"r",(function(){return de}));var r=n(2),a=n.n(r),i=n(18),o=n(13),c=n(62),l=n(89),s=n.n(l),u=n(249),d=n.n(u),f=n(17),p=n(47),m=n(376),b=n.n(m),g=n(650),v=n.n(g),y=n(133),h=n.n(y),E=n(29),j=n(651),x=n(36);n(393);function O(e,t){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(a.a.mark((function e(t,n){var r,i,o,l,s,u,d,f,p,m,b,g;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.content,i=t.size,o=[],l=0,s=Math.round(i/25e4),u=!0,d=!1,e.prev=6,p=Object(c.a)(r);case 8:return e.next=10,p.next();case 10:return m=e.sent,u=m.done,e.next=14,m.value;case 14:if(b=e.sent,u){e.next=23;break}g=b,n&&n(l,s),o.push(g),l++;case 20:u=!0,e.next=8;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(6),d=!0,f=e.t0;case 29:if(e.prev=29,e.prev=30,u||null==p.return){e.next=34;break}return e.next=34,p.return();case 34:if(e.prev=34,!d){e.next=37;break}throw f;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.abrupt("return",new Blob(o));case 40:case"end":return e.stop()}}),e,null,[[6,25,29,39],[30,,34,38]])})))).apply(this,arguments)}function w(e,t,n){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(a.a.mark((function e(t,r,i){var c,l,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(0).then(n.t.bind(null,672,7));case 2:return c=e.sent,l=c.default,s=new l,u=t.split("/")[t.split("/").length-1],e.next=8,Promise.all(r.map(function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="dir"===t.type,(r=t.path.split("/"))[0]=u,o=r.join("/"),!n){e.next=8;break}e.t0=void 0,e.next=11;break;case 8:return e.next=10,O(t,i);case 10:e.t0=e.sent;case 11:c=e.t0,s.file(o,c,{dir:n});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.next=10,s.generateAsync({type:"blob"});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return I.apply(this,arguments)}function I(){return(I=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()(n.get(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t,n){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(a.a.mark((function e(t,n,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.cat(n,{handleUpdate:r}).data();case 2:return i=e.sent,e.abrupt("return",new Blob([i]));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n){return z.apply(this,arguments)}function z(){return(z=Object(o.a)(a.a.mark((function e(t,r,i){var c,l,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.fs.tree(r).map((function(e){return{path:e,content:"dir"!==t.fs.content(e)&&t.cat(e,{handleUpdate:i})}})),e.next=3,n.e(0).then(n.t.bind(null,672,7));case 3:return l=e.sent,s=l.default,u=new s,e.next=8,Promise.all(c.map(function(){var e=Object(o.a)(a.a.mark((function e(t){var n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=!t.content)){e.next=5;break}e.t0=void 0,e.next=11;break;case 5:return e.t1=Blob,e.next=8,t.content.data();case 8:e.t2=e.sent,e.t3=[e.t2],e.t0=new e.t1(e.t3);case 11:i=e.t0,u.file(t.path.replace(r+"/",""),i,{dir:n});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.next=10,u.generateAsync({type:"blob"});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,n){return B.apply(this,arguments)}function B(){return(B=Object(o.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","dir"===t.fs.content(n)?T(t,n,r):F(t,n,r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()(t.get(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);function W(e,t,n,r){return H.apply(this,arguments)}function H(){return(H=Object(o.a)(a.a.mark((function e(t,n,r,i){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()(r.get(t));case 2:return o=e.sent,e.abrupt("return","dir"===o[0].type?w(n,o,i):O(o[0],i));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){var t=e.split(".");return t[t.length-1]}var U=["jpg","png","gif","mp3","wav","ogg","flac","jpeg"];function _(e){return U.includes(e.toLowerCase())}function M(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t?1e3:1024;if(Math.abs(e)<r)return e+" B";var a=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=-1,o=Math.pow(10,n);do{e/=r,++i}while(Math.round(Math.abs(e)*o)/o>=r&&i<a.length-1);return e.toFixed(n)+" "+a[i]}function V(e,t){return t.isDragging?t.isDropAnimating?Object(i.a)(Object(i.a)({},e),{},{transitionDuration:"0.001s"}):e:{}}function K(e,t){var n=P(t),r=f.g;return X(n)?r=f.k:G(n)?r=f.n:!function(e){return["mp4","mov","flv","mpg","mpeg","avi"].includes(e.toLowerCase())}(n)?function(e){return["zip","tar","gz","rar","7z"].includes(e.toLowerCase())}(n)&&(r=f.b):r=f.w,"dir"===e&&(r=p.f),r}var Y=function(e){var t=b.a.unix(e);return t.isBefore(b()().subtract(1,"day"))?t.format("MM/DD/YYYY"):t.format("h:mm a")},q=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function G(e){return["mp3","wav","ogg","flac"].includes(e.toLowerCase())}function X(e){return["jpg","jpeg","png","gif"].includes(e.toLowerCase())}function J(e){var t=0,n=0;e.forEach((function(e){var r=e.path.split("/"),a=P(r[r.length-1]);G(a)&&t++,X(a)&&n++}));var r=Z(t,e.length),a=Z(n,e.length);return r>60?"audio":a>60?"image":"default"}function Z(e,t){return t?Math.round(e/t*100):0}var $=function(){return navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||window.RTCPeerConnection},Q=function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())};function ee(e){var t=e?e.sort((function(e,t){var n=e.name,r=t.name;return Q(n,r)})):[],n=t.filter((function(e){return"dir"===e.type})),r=t.filter((function(e){return"dir"!==e.type}));return n.concat(r)}var te=function(e){return e?e.filter((function(e){return X(P(e.name))})):null},ne=!0===v.a.hasMouse;function re(e){return E.Buffer.from(h.a.publicKeyConvert(E.Buffer.from(e,"hex"),!0)).toString("hex")}function ae(e){return E.Buffer.from(h.a.publicKeyConvert(E.Buffer.from(e,"hex"),!1)).toString("hex")}function ie(e){try{return h.a.publicKeyVerify(E.Buffer.from(e,"hex"))}catch(t){return!1}}function oe(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)};function se(e,t,n){t(Object(x.b)({message:e,isInfo:!0,isError:n})),setTimeout((function(){return t(Object(x.b)({}))}),1500)}function ue(e){var t=de(e),n=t.writers,r=t.admins,a=t.myID;return n.includes(a)||r.includes(a)}function de(e){var t=e.access.admin,n=e.access.write,r=e.access.read,a=re(e.identity.publicKey);return t=Array.from(t).map((function(e){return re(e)})),n=Array.from(n).map((function(e){return re(e)})),r=Array.from(r).map((function(e){return re(e)})).filter((function(e){return!t.includes(e)})).filter((function(e){return!n.includes(e)})),{admins:t,writers:n,readers:r,myID:a}}},1260:function(e,t){},1283:function(e,t){},1285:function(e,t){},1316:function(e,t){},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1);function a(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}},1460:function(e,t){},1525:function(e,t){},162:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(9),a=n(1);function i(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var n=Object(a.useState)(t),i=Object(r.a)(n,2),o=i[0],c=i[1];return Object(a.useEffect)((function(){if(!e)return!1;function n(){c(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),o}},163:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),a=n.n(r),i=n(13),o=n(9),c=n(1),l=n.n(c),s=n(42),u=n(6);function d(e,t,n,r,d){var f=d.placeholder,p=d.isPassword,m=d.isError,b=d.confirmTitle,g=d.inputIconComponent,v=d.onInputIconClick,y=Object(c.useState)(r),h=Object(o.a)(y,2),E=h[0],j=h[1],x=Object(c.useState)(!1),O=Object(o.a)(x,2),C=O[0],w=O[1],k=g,S=Object(c.useRef)(null),I=function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(E);case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){m&&I()}),[E]);var F={input:{border:"1px solid ".concat(C?u.b:m?u.c:u.j),borderRadius:4,color:u.f,fontSize:14,fontWeight:200,padding:4,marginRight:4,display:"inline-flex",flexGrow:2},inputWrapper:{display:"inline-flex",flexGrow:2,position:"relative"},acceptButton:{backgroundColor:u.j,color:"#FFF",fontSize:12,padding:"4px 5px",borderRadius:2,cursor:"pointer",zIndex:2},inputIcon:{display:"flex",alignItems:"center",height:26,position:"absolute",right:8,cursor:"pointer"}};return Object(c.useEffect)((function(){e?(S.current.focus(),S.current.select()):j(r)}),[e]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:F.inputWrapper},l.a.createElement("input",{ref:S,className:"textInput",type:p?"password":"text",placeholder:f,style:F.input,value:E,onClick:function(e){return e.stopPropagation()},onChange:function(e){return j(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&t(E)}}),g?l.a.createElement(k,{onClick:v,color:u.m,size:16,style:F.inputIcon}):null),l.a.createElement("div",{onClick:function(e){e.stopPropagation(),t(E)},style:F.acceptButton},b||"Accept"),n?l.a.createElement(s.a,{title:"Cancel",onClick:function(){return n()},changeColor:u.l}):null)}},164:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(18),a=n(1),i=n.n(a),o=n(6),c=n(44);function l(e){var t=e.onClose,n=e.children,a=e.isVisible,l=e.style,s=e.positionTop,u=Object(c.a)(),d={container:{position:u?"fixed":"absolute",backgroundColor:"#FFF",border:"1px solid ".concat(o.m),borderRadius:4,top:s||(u?60:150),left:"50%",transform:"translateX(-50%)",width:"94%",fontFamily:"Open Sans",zIndex:1e4,boxShadow:"0 0px 14px hsla(0, 0%, 0%, 0.2)"},background:{position:"fixed",width:"100%",height:"100%",top:0,left:0,backgroundColor:"#00000033",zIndex:5e3}};return a?i.a.createElement("div",{style:d.outer},i.a.createElement("div",{style:d.background,onClick:t}),i.a.createElement("div",{style:Object(r.a)(Object(r.a)({},d.container),l)},n)):null}},1661:function(e,t,n){},1668:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(107),o=n.n(i),c=(n(678),n(664)),l=n(52),s=n(645),u=n(259);function d(){return a.a.createElement(c.a,null,a.a.createElement(l.a,{exact:!0,path:"/",component:s.a}),a.a.createElement(l.a,{exact:!0,path:"/download/:cid/:path",component:u.a}),a.a.createElement(l.a,{exact:!0,path:"/download/:cid/:iv/:key/:path/:displayType",component:u.a}),a.a.createElement(l.a,{exact:!0,path:"/download/:cid/:path/:displayType",component:u.a}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var f=n(27),p=n(665),m=n(61),b=n(380),g=n(666),v=n.n(g),y=n(667),h=n.n(y),E=n(50),j=n(93),x={instances:[],contacts:[],instanceIndex:0,newUser:!0};var O=n(18),C={status:{},shareData:{}};var w=Object(m.c)({main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.a.ADD_INSTANCE:var n=t.name,r=t.address,a=t.isImported,i=t.isEncrypted,o=t.label;return Object(j.a)(e,(function(e){e.instances.push({name:n,address:r,isImported:a,isEncrypted:i,label:o})}));case E.a.SET_INSTANCE_INDEX:var c=t.index;return Object(j.a)(e,(function(e){e.instanceIndex=Math.max(0,c)}));case E.a.ADD_CONTACT:var l=t.label,s=t.pubKey;return Object(j.a)(e,(function(e){e.contacts||(e.contacts=[]),e.contacts.push({label:l,pubKey:s})}));case E.a.DELETE_CONTACT:var u=t.pubKey;return Object(j.a)(e,(function(t){t.contacts=e.contacts.filter((function(e){return e.pubKey!==u}))}));case E.a.SET_INSTANCE_LABEL:var d=t.index,f=t.label;return Object(j.a)(e,(function(e){e.instances[d].label=f}));case E.a.REMOVE_INSTANCE:var p=t.index;return Object(j.a)(e,(function(t){t.instances=e.instances.filter((function(e,t){return p!==t})),t.instances[t.instanceIndex]||(t.instanceIndex=0)}));case E.a.SET_NEW_USER:var m=t.bool;return Object(j.a)(e,(function(e){e.newUser=m}))}return e},tempData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.b.SET_STATUS:return Object(O.a)(Object(O.a)({},e),{},{status:t.status});case E.b.SET_SHARE_DATA:return Object(O.a)(Object(O.a)({},e),{},{shareData:t.shareData})}return e}}),k=(n(1666),{key:"root",storage:v.a,blacklist:["tempData"],stateReconciler:h.a}),S=Object(b.a)(k,w),I=[];var F=function(e){var t=Object(m.d)(m.a.apply(void 0,I))(m.e)(S);return{store:t,persistor:Object(b.b)(t)}}(),D=F.store,T=F.persistor;o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(f.a,{store:D},a.a.createElement(p.a,{loading:null,persistor:T},a.a.createElement(d,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},167:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(18),a=n(2),i=n.n(a),o=n(13),c=n(9),l=n(1),s=n.n(l),u=n(6),d=n(17),f=n(47),p=n(76),m=n(42),b=n(251),g=n(12),v=n(252),y=n(163),h=n(27),E=n(36);var j=n(44),x=n(78),O=n(258);function C(e){var t,n=e.data,a=e.sharedFs,C=e.setCurrentDirectory,w=e.ipfs,k=e.isParent,S=e.snapshot,I=e.forceIcon,F=e.onIconClicked,D=e.readOnly,T=n.path,z=n.type,R=T.split("/"),B=R[R.length-1],A=a&&(null===(t=a.current.fs.read(T))||void 0===t?void 0:t.mtime),N=Object(p.a)(),L=Object(c.a)(N,2),W=L[0],H=L[1],P=Object(l.useState)(null),U=Object(c.a)(P,2),_=U[0],M=U[1],V=Object(l.useState)(null),K=Object(c.a)(V,2),Y=K[0],q=K[1],G=Object(l.useState)(!1),X=Object(c.a)(G,2),J=X[0],Z=X[1],$=Object(l.useState)(!1),Q=Object(c.a)($,2),ee=Q[0],te=Q[1],ne=Object(l.useState)(null),re=Object(c.a)(ne,2),ae=re[0],ie=re[1],oe=function(e){var t=s.a.useState(null),n=Object(c.a)(t,2),r=n[0],a=n[1],i=s.a.useRef(0),o=s.a.useRef(null),l=s.a.useRef(null),u=s.a.useCallback((function(e){a(e),u.current=e}),[]);return s.a.useEffect((function(){l.current=e})),s.a.useEffect((function(){function e(){var e=i.current+1===2,t=o.current;t&&e&&(clearTimeout(o.current),o.current=null,i.current=0,l.current&&l.current()),t||(i.current=i.current+1,o.current=setTimeout((function(){clearTimeout(o.current),o.current=null,i.current=0}),200))}return r&&r.addEventListener("click",e),function(){r&&r.removeEventListener("click",e)}}),[r]),[u,r]}((function(){return Z(!0)})),ce=Object(c.a)(oe,1)[0],le=R.slice(0,R.length-1).join("/"),se=Object(g.i)(B),ue=Object(j.a)(),de=a&&a.current.fs.exists(T),fe=!g.u,pe=(null===a||void 0===a?void 0:a.current.encrypted)&&"dir"===z,me=a&&Object(g.g)(a.current),be={paddingContainer:{paddingTop:3,paddingBottom:3},outer:{borderRadius:4,color:u.o,fontSize:14,padding:7,marginBottom:8,fontFamily:"Open Sans",userSelect:"none"},container:{display:"flex",flexDirection:"row",flexWrap:ue?"wrap":"nowrap",justifyContent:"space-between",cursor:"pointer"},flexItem:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",flexGrow:2,marginBottom:ue?10:0},icon:{marginRight:4,width:30,flexShrink:0},tools:{display:fe?"none":"flex",justifyContent:"flex-end",width:"100%",opacity:!H&&!ae||k?0:1,pointerEvents:!H&&!ae||k?"none":null,fontSize:14,marginLeft:0},filename:{textAlign:"left",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},ge=Object(h.c)(),ve=Object(y.a)(J,(function(e){return je(e)}),(function(){return Z(!1)}),B,{placeholder:""}),ye=I||Object(g.q)(z,B),he=function(){var e=Object(o.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.cid){e.next=4;break}t=n.cid,e.next=8;break;case 4:if(!de){e.next=8;break}return e.next=7,a.current.read(T);case 7:t=e.sent;case 8:return e.next=10,Object(g.n)(t,w);case 10:return r=e.sent,q(r),M(t),e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){de&&"dir"!==z&&he()}),[T]);var Ee=ye,je=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ge(Object(E.b)({message:"Renaming file"})),e.next=4,a.current.move(T,le,t);case 4:ge(Object(E.b)({})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error moving!",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function xe(){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae){e.next=9;break}return ge(Object(E.b)({message:"Fetching download"})),n=function(e,t){ge(Object(E.b)({message:"[".concat(Object(g.s)(e,t),"%] Downloading")}))},e.next=5,Object(g.k)(a.current,T,n);case 5:t=e.sent,ge(Object(E.b)({})),e.next=10;break;case 9:t=ae;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ce=function(e,t){"dir"===z&&(t="".concat(t,".zip")),Object(v.saveAs)(e,t)},we=function(){te(!1),ge(Object(E.a)({name:B,CID:_,path:T,pathType:z}))},ke=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(!1),e.next=3,xe();case 3:t=e.sent,Ce(t,B);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te(!1),Z(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(!1),ge(Object(E.b)({message:"Deleting ".concat("dir"===z?"folder":"file")})),e.next=4,a.current.remove(T);case 4:ge(Object(E.b)({}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae||!Object(g.x)(se)){e.next=9;break}return ge(Object(E.b)({message:"Fetching preview"})),e.next=4,xe();case 4:t=e.sent,ge(Object(E.b)({})),ie(t),e.next=10;break;case 9:ie(null);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!fe||"dir"===z){e.next=4;break}return te(!0),e.abrupt("return");case 4:if(!F){e.next=7;break}return F(),e.abrupt("return");case 7:if(!J){e.next=9;break}return e.abrupt("return");case 9:if("dir"!==z){e.next=13;break}C(T),e.next=15;break;case 13:return e.next=15,Fe();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=[{title:"Download",onClick:ke,iconComponent:d.e}];me&&(Te=Te.concat([{title:"Rename",onClick:Se,iconComponent:d.f},{title:"Delete",onClick:Ie,iconComponent:d.s,forceColor:u.e}])),pe||Te.unshift({title:"Share",onClick:we,iconComponent:d.r}),"dir"===z?Te.unshift({title:"Open folder",onClick:function(){return C(T)},iconComponent:f.g}):(!ae&&Object(g.x)(se)||F)&&Te.unshift({title:"Open preview",onClick:function(){te(!1),F?F():Fe()},iconComponent:ye});return s.a.createElement(s.a.Fragment,null,(S||(S={}),s.a.createElement("div",{ref:W,style:be.paddingContainer,className:"fileItem"},s.a.createElement(O.a,{isVisible:ee,name:B,fileIcon:ye,onClose:function(){return te(!1)},items:Te}),s.a.createElement("div",{onContextMenu:function(e){e.preventDefault(),x.contextMenu.show({event:e,id:pe?"menu-id-no-share":"menu-id",props:{handleDelete:Ie,handleDownload:ke,handleShare:we,handleEdit:Se}})},style:Object(r.a)(Object(r.a)({},be.outer),{},{backgroundColor:(H||ae||S.isDragging||S.combineTargetFor&&"dir"===z)&&!fe?u.g:"#FFF"})},s.a.createElement("div",{style:be.container,onClick:De},s.a.createElement("div",{style:Object(r.a)(Object(r.a)({},be.flexItem),{},{maxWidth:ue?null:"25%"})},s.a.createElement(Ee,{color:u.m,size:16,style:be.icon}),J?s.a.createElement(s.a.Fragment,null,ve):k?". . /":s.a.createElement("span",{ref:ce,style:be.filename},B)),s.a.createElement("div",{style:Object(r.a)(Object(r.a)({},be.flexItem),{},{justifyContent:"flex-end"})},"dir"!==z&&Y?Object(g.v)(Y.size):null),s.a.createElement("div",{style:Object(r.a)(Object(r.a)({},be.flexItem),{},{justifyContent:"flex-end"})},"dir"!==z&&(A||(null===Y||void 0===Y?void 0:Y.mtime))?Object(g.o)((null===A||void 0===A?void 0:A.secs)||Y.mtime.secs):null),s.a.createElement("div",{style:be.tools},s.a.createElement("div",null,s.a.createElement(m.a,{id:"Share-".concat(z),iconComponent:d.r,changeColor:u.f,tooltip:pe?"No encrypted folder sharing yet!":"Share",onClick:we,disabled:pe}),s.a.createElement(m.a,{id:"Download-".concat(z),iconComponent:d.e,changeColor:u.f,tooltip:"Download",onClick:ke}),!D&&me?s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{id:"Rename-".concat(z),iconComponent:d.f,changeColor:u.f,tooltip:"Rename",onClick:Se}),s.a.createElement(m.a,{id:"Delete-".concat(z),iconComponent:d.s,tooltip:"Delete",onClick:Ie})):null))),ae?s.a.createElement("div",{style:be.preview},s.a.createElement(b.a,{blob:ae,filename:B})):null))))}},168:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(2),a=n.n(r),i=n(13),o=n(9),c=n(1),l=n.n(c),s=n(166),u=n.n(s),d=n(6),f=n(12),p=n(59),m=n(657),b=n.n(m),g=n(72);function v(e){var t=e.isVisible,n=e.onClose,r=e.value,s=e.title,u=Object(c.useState)(!1),m=Object(o.a)(u,2),v=m[0],y=m[1],h={container:{display:"flex",justifyContent:"center"},key:{fontSize:18,fontWeight:600,marginTop:8,textAlign:"center"},buttonHolder:{marginTop:12,textAlign:"center"},dialog:{maxWidth:360},qr:{border:d.a,borderRadius:4}};return l.a.createElement(p.a,{style:h.dialog,title:s,isVisible:t,backgroundColor:d.g,onClose:n,body:l.a.createElement("div",{style:h.container},l.a.createElement("div",null,l.a.createElement(b.a,{value:r,size:256,includeMargin:!0,style:h.qr}),l.a.createElement("div",{style:h.copy},l.a.createElement("div",{style:h.key},null===r||void 0===r?void 0:r.substr(0,10),"..."),l.a.createElement("div",{style:h.buttonHolder},l.a.createElement(g.a,{title:v?"Copied!":"Copy ID",style:h.copyButton,onClick:Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(r);case 2:y(!0),setTimeout((function(){return y(!1)}),1500);case 4:case"end":return e.stop()}}),e)})))})))))})}var y={container:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6,borderBottom:"1px solid ".concat(d.i),paddingBottom:2},right:{fontSize:16,lineHeight:"18px",color:d.m},userItem:{position:"relative",cursor:"pointer",display:"flex",alignItems:"center"},icon:{marginLeft:2},leftSide:{display:"flex",alignItems:"center"},title:{color:d.m,fontSize:16,fontWeight:400,display:"flex",alignItems:"center",userSelect:"none"},headerIcon:{marginRight:4},myID:{fontSize:12,marginRight:4,color:d.l},idContainer:{cursor:"pointer",borderRadius:4,border:d.a,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:5,backgroundColor:d.g,marginBottom:4,userSelect:"none"}};function h(e){var t=e.sailplane,n=e.title,r=e.iconComponent,s=e.leftSide,p=Object(c.useState)(null),m=Object(o.a)(p,2),b=m[0],g=m[1],h=Object(c.useState)(!1),E=Object(o.a)(h,2),j=E[0],x=E[1];Object(c.useEffect)((function(){t&&function(){try{var e=Object(f.c)(t._orbitdb.identity.publicKey);g(e)}catch(n){console.log("err",n)}}()}),[t]);var O=r;return l.a.createElement("div",{style:y.container},l.a.createElement("div",{style:y.leftSide},n?l.a.createElement("div",{style:y.title},l.a.createElement(O,{color:d.j,size:16,style:y.headerIcon}),n):s),l.a.createElement("div",{style:y.right},b?l.a.createElement("div",{style:y.userItem},l.a.createElement("div",{onClick:Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0);case 1:case"end":return e.stop()}}),e)}))),style:y.idContainer},l.a.createElement("div",{style:y.myID},"Show ID"),l.a.createElement(u.a,{value:b,size:"34",style:y.icon}))):null,l.a.createElement(v,{value:b,title:"My User ID",isVisible:j,onClose:function(){return x(!1)}})))}},201:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),a=n.n(r),i=n(6),o=n(12),c=n(17),l={container:{padding:10,backgroundColor:"#FFF",textAlign:"center",width:"100%",paddingTop:100,fontSize:20,fontFamily:"Open Sans",fontWeight:"300",color:i.l,boxSizing:"border-box",height:"100%"},icon:{marginRight:4}};function s(e){var t=e.ipfsError,n=e.message,r=e.loading;n||(n="Loading...");var s=a.a.createElement(c.l,{color:i.l,size:16,style:l.icon,className:"rotating"}),u=a.a.createElement(a.a.Fragment,null,"Sailplane failed to start network. Try refreshing. ",a.a.createElement("br",null),"If the problem persists you can try ",a.a.createElement("a",{target:"blank",href:"https://intercom.help/scoutpad/en/articles/3478364-how-to-clear-local-storage-of-web-browser"},"clearing browser cache"),"."),d=Object(o.A)()?u:"This browser does not support WebRTC, iOS users please try Safari.";return a.a.createElement("div",{style:l.container},Object(o.A)()&&!t?a.a.createElement("div",null,r&&s,n):a.a.createElement("div",null,d))}},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(9),a=n(166),i=n.n(a),o=n(1),c=n.n(o),l=n(6),s=n(17),u=n(42),d=n(76),f=n(12),p=n(27),m=n(57),b=n(44);function g(e){var t=e.pubKey,n=e.myID,a=e.selected,o=e.label,g=e.hideTools,v=e.onClick,y=a?"#FFF":l.m,h=Object(d.a)(),E=Object(r.a)(h,2),j=E[0],x=E[1],O=Object(p.c)(),C=Object(b.a)(),w={outer:{paddingTop:4,paddingBottom:4},userBlock:{backgroundColor:x?l.i:"#FFF",color:l.l,fontSize:18,fontFamily:"Open Sans",lineHeight:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:8,borderRadius:4,cursor:"pointer"},left:{display:"flex",justifyContent:"flex-start",alignItems:"center"},right:{display:g?"none":"block"},iconHolder:{marginRight:8},youText:{fontSize:16,fontWeight:600},key:{fontSize:13}};return c.a.createElement("div",{style:w.outer,ref:j,onClick:v||null},c.a.createElement("div",{style:w.userBlock},c.a.createElement("div",{style:w.left},c.a.createElement("div",{style:w.iconHolder},c.a.createElement(i.a,{value:t,size:"34",style:w.icon})),c.a.createElement("div",{style:w.adminNameHolder},c.a.createElement("div",null,c.a.createElement("span",{style:w.youText},n===t?"You":o||"Unnamed")),c.a.createElement("div",{style:w.key},C?t.substr(0,20)+"...":t))),c.a.createElement("div",{style:w.right},c.a.createElement(u.a,{className:"contactCopy",defaultColor:y,iconComponent:s.d,tooltip:"Copy",size:15,changeColor:l.f,onClick:function(){Object(f.d)(t),Object(f.B)("Contact user ID copied!",O)}}),n!==t?c.a.createElement(u.a,{className:"contactDelete",defaultColor:y,iconComponent:s.s,tooltip:"Delete",size:15,changeColor:l.b,onClick:function(){O(Object(m.c)(t))}}):null)))}},251:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),a=n.n(r),i=n(12),o=a.a.memo((function(e){var t=e.blob,n=e.filename,r=e.size;r||(r="small");var o={container:{marginTop:10},image:{width:"small"===r?300:"100%"},audio:{userSelect:"none",outline:0}},c=Object(i.i)(n),l=window.URL.createObjectURL(t);return a.a.createElement("div",{onClick:function(e){return e.stopPropagation()},style:o.container},Object(i.z)(c)?a.a.createElement("div",null,a.a.createElement("img",{src:l,style:o.image})):null,Object(i.x)(c)?a.a.createElement("div",null,a.a.createElement("audio",{controls:!0},a.a.createElement("source",{src:l,style:o.audio}))):null)}))},254:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),a=n.n(r),i=n(13),o=n(9),c=n(653),l=n.n(c),s=n(1),u=null;function d(e){var t=Object(s.useState)(Boolean(u)),n=Object(o.a)(t,2),r=n[0],c=n[1],d=Object(s.useState)(null),f=Object(o.a)(d,2),p=f[0],m=f[1];return Object(s.useEffect)((function(){function t(){return(t=Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u){t.next=4;break}console.log("IPFS already started"),t.next=25;break;case 4:if(!window.ipfs||!window.ipfs.enable){t.next=11;break}return console.log("Found window.ipfs"),t.next=8,window.ipfs.enable({commands:["id"]});case 8:u=t.sent,t.next=25;break;case 11:return t.prev=11,console.time("IPFS Started"),t.next=15,l.a.create({EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/wrtc-star1.par.dwebops.pub/tcp/443/wss/p2p-webrtc-star/","/dns4/wrtc-star2.sjc.dwebops.pub/tcp/443/wss/p2p-webrtc-star/","/dns4/webrtc-star.discovery.libp2p.io/tcp/443/wss/p2p-webrtc-star/","/dns4/libp2p-rdv.vps.revolunet.com/tcp/443/wss/p2p-webrtc-star/"]}}});case 15:u=t.sent,console.timeEnd("IPFS Started"),t.next=25;break;case 19:t.prev=19,t.t0=t.catch(11),console.error(t.t0),e(t.t0),u=null,m(t.t0);case 25:window.ipfs=u,c(Boolean(u));case 27:case"end":return t.stop()}}),t,null,[[11,19]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){u&&u.stop&&(console.log("Stopping IPFS"),u.stop().catch((function(e){return console.error(e)})),u=null,c(!1))}}),[]),{ipfs:u,isIpfsReady:r,ipfsInitError:p}}},256:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(18),a=n(9),i=n(204),o=n(1),c=n.n(o),l=n(59),s=n(6),u=n(57),d=n(27),f=n(72),p=n(99),m=n(47),b=n(659),g=n.n(b),v=n(12);function y(e){var t=e.isVisible,n=e.onClose,r=e.onScan,i={container:{display:"flex",justifyContent:"center"},dialog:{maxWidth:360}},u=Object(o.useState)(null),d=Object(a.a)(u,2),f=d[0],m=d[1];return c.a.createElement(l.a,{style:i.dialog,positionTop:1,title:"Scan user ID",isVisible:t,backgroundColor:s.g,onClose:n,body:c.a.createElement("div",{style:i.container},f?c.a.createElement("div",null,c.a.createElement(p.a,{isError:!0},"This browser does not support camera access.")):c.a.createElement(g.a,{showViewFinder:!1,delay:300,onError:function(e){return m(e)},onScan:function(e){Object(v.C)(e)&&r(e)},style:{width:"100%",maxWidth:400,alignSelf:"center"}}))})}n(2),n(13);function h(e){var t=e.onClose,n=e.isVisible,b=e.contacts,g=e.myID,h=Object(d.c)(),E=b?[g].concat(Object(i.a)(b.map((function(e){return e.pubKey})))):[],j=Object(o.useState)(""),x=Object(a.a)(j,2),O=x[0],C=x[1],w=Object(o.useState)(""),k=Object(a.a)(w,2),S=k[0],I=k[1],F=Object(o.useState)(null),D=Object(a.a)(F,2),T=D[0],z=D[1],R=Object(o.useState)(!1),B=Object(a.a)(R,2),A=B[0],N=B[1],L=Object(o.useRef)(null);Object(o.useEffect)((function(){n?(L.current.focus(),L.current.select()):(I(""),C(""),z(null))}),[n]);var W={title:{fontSize:16,color:s.m,marginBottom:8},labelTitle:{marginTop:12,marginBottom:4},input:{border:"1px solid ".concat(s.j),borderRadius:4,color:s.f,fontSize:14,fontWeight:200,padding:4,display:"inline-flex",width:"100%",boxSizing:"border-box"},confirmBlock:{marginTop:14,display:"flex",justifyContent:"flex-end"},cancel:{marginRight:8},optional:{position:"relative",top:-8,left:4,fontSize:13},inputIconContainer:{},inputIcon:{display:"flex",alignItems:"center",position:"absolute",right:8,cursor:"pointer",backgroundColor:"#FFF"},inputWrapper:{display:"flex",flexGrow:2,position:"relative",alignItems:"center"}},H=function(){Object(v.C)(S)?E.includes(S)?z("Contact already exists"):(h(Object(u.a)(S,O)),t()):z("Invalid user ID")};return c.a.createElement(l.a,{backgroundColor:s.g,isVisible:n,title:"Add contact",body:c.a.createElement("div",{style:W.body},T?c.a.createElement(p.a,{isError:!0},T):null,c.a.createElement("div",{style:W.title},"User ID:"),c.a.createElement("div",{style:W.inputWrapper},c.a.createElement("input",{ref:L,type:"text",value:S,onChange:function(e){return I(e.target.value)},autoCorrect:"off",style:W.input,placeholder:"(ex: 0356467b31...)",className:"textInput",onKeyPress:function(e){"Enter"===e.key&&H()}}),c.a.createElement(m.i,{onClick:function(){return N(!0)},color:s.m,size:16,style:W.inputIcon})),c.a.createElement("div",{style:Object(r.a)(Object(r.a)({},W.title),W.labelTitle)},"Name",c.a.createElement("span",{style:W.optional},"(optional)")),c.a.createElement("input",{type:"text",value:O,onChange:function(e){return C(e.target.value)},autoCorrect:"off",style:W.input,placeholder:"(ex: John Richardson)",className:"textInput",onKeyPress:function(e){"Enter"===e.key&&H()}}),c.a.createElement("div",{style:W.confirmBlock},c.a.createElement(f.a,{title:"Cancel",inverted:!1,noHover:!0,customWhiteColor:s.g,style:W.cancel,onClick:t}),c.a.createElement(f.a,{id:"addContactDialogButton",title:"Add contact",onClick:H,inverted:!0,customWhiteColor:s.g})),c.a.createElement(y,{isVisible:A,onClose:function(){return N(!1)},onScan:function(e){I(e),N(!1)}})),onClose:t})}},257:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(9),a=n(1),i=n.n(a),o=n(6),c=n(47),l=n(76);function s(e){var t=e.selected,n=e.onClick,a=e.title,c=e.iconComponent,s=Object(l.a)(),u=Object(r.a)(s,2),d=u[0],f=u[1],p=c,m={container:{backgroundColor:t?"#FFF":f?o.n:null,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",fontSize:16,cursor:"pointer",padding:8,borderRadius:4,marginBottom:8,fontFamily:"Open Sans"},title:{color:t?o.l:"#FFF",userSelect:"none",fontSize:15},icon:{marginRight:6}};return i.a.createElement("div",{style:m.container,onClick:n,ref:d},c?i.a.createElement(p,{color:t?o.m:"#FFF",size:16,style:m.icon}):null,i.a.createElement("span",{style:m.title},a))}var u=n(44),d=n(646),f=n.n(d);function p(e){var t=e.setCurrentRightPanel,n=e.currentRightPanel,l=e.isDownload,d=Object(u.a)(),p=Object(a.useState)(!1),m=Object(r.a)(p,2),b=m[0],g=m[1],v={container:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:o.m,color:"#FFF",padding:"".concat(d?8:20,"px 10px 0px 10px"),minWidth:200,fontFamily:"Open Sans",paddingBottom:0},logo:{display:"inline-block",fontFamily:"Libre Barcode 128 Text",color:"#FFF",fontSize:24,fontWeight:400,marginBottom:d&&!b?8:20,textAlign:"center",justifyContent:"center",alignItems:"center",userSelect:"none",cursor:"pointer",lineHeight:"24px"},settingsBlock:{bottom:0,width:"100%"},mobilePadding:{paddingBottom:6},menuIcon:{position:"absolute",top:d?16:25,left:14},logoContainer:{display:"flex",alignItems:"center",justifyContent:"center"},footer:{textAlign:"center",marginBottom:8,fontSize:13,lineHeight:"14px",fontFamily:"Open Sans"},iconGithub:{cursor:"pointer"},githubTxt:{fontSize:10,userSelect:"none"},icon:{position:"relative",top:6,width:30},logoTitle:{display:"inline-flex"}},y=c.b;b&&(y=c.k);var h=y;return i.a.createElement("div",{style:v.container},d?i.a.createElement(h,{color:"#FFF",size:24,style:v.menuIcon,onClick:function(){g(!b)}}):null,i.a.createElement("div",null,i.a.createElement("div",{style:v.logoContainer},i.a.createElement("div",{style:v.logo,onClick:function(){document.location="".concat(window.location.origin+window.location.pathname)}},i.a.createElement("img",{src:f.a,style:v.icon}),i.a.createElement("div",{style:v.logoTitle}))),!b&&d||l?i.a.createElement("div",{style:v.mobilePadding}):i.a.createElement(i.a.Fragment,null,i.a.createElement(s,{title:"Files",iconComponent:c.g,selected:"files"===n,onClick:function(){g(!1),t("files")}}),i.a.createElement(s,{title:"Drives",iconComponent:c.j,selected:"instances"===n,onClick:function(){g(!1),t("instances")}}),i.a.createElement(s,{title:"Contacts",iconComponent:c.a,selected:"contacts"===n,onClick:function(){g(!1),t("contacts")}})),l?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:v.settingsBlock},i.a.createElement(s,{title:"Home",onClick:function(){return document.location="/"},iconComponent:c.h})),i.a.createElement("div",{style:v.settingsBlock},i.a.createElement(s,{title:"Downloads",onClick:function(){},iconComponent:c.e,selected:!0}))):null))}},258:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),a=n.n(r),i=n(6),o=n(164);function c(e){var t=e.iconComponent,n=e.title,r=e.onClick,o=e.forceColor,c={container:{display:"flex",justifyContent:"center",alignItems:"center",height:80,marginTop:10,marginBottom:10},inner:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",border:"1px solid ".concat(o||i.d),borderRadius:4,boxShadow:"1px 2px 3px #e8e8e8"},title:{fontSize:16,lineHeight:"16px",color:o||i.m,marginTop:4,whiteSpace:"nowrap"},icon:{width:40},body:{display:"flex",alignItems:"center",width:140}},l=t;return a.a.createElement("div",{style:c.container},a.a.createElement("div",{style:c.inner,onClick:r},a.a.createElement("div",{style:c.body},a.a.createElement(l,{color:o||i.j,size:19,style:c.icon}),a.a.createElement("div",{style:c.title},n))))}function l(e){var t=e.name,n=e.isVisible,r=e.fileIcon,l=e.items,s=e.onClose;if(!n)return null;var u={container:{padding:"0 8px 0 8px"},name:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:8,padding:6,backgroundColor:i.g,color:i.j,boxShadow:"inset 1px 1px 3px #adcadf",borderRadius:4,margin:8},icon:{height:20,width:20,marginRight:4},nameText:{fontSize:16,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},d=r;return a.a.createElement(o.a,{onClose:s,isVisible:n},a.a.createElement("div",{style:u.name},r?a.a.createElement(d,{color:i.j,size:20,style:u.icon}):null,a.a.createElement("span",{style:u.nameText},t)),a.a.createElement("div",{style:u.container},l.map((function(e,t){return a.a.createElement(c,{key:t,iconComponent:e.iconComponent,title:e.title,onClick:e.onClick,forceColor:e.forceColor})}))))}},259:function(e,t,n){"use strict";(function(e){var r=n(2),a=n.n(r),i=n(13),o=n(9),c=n(1),l=n.n(c),s=(n(381),n(257)),u=n(44),d=n(254),f=n(201),p=n(255),m=n(27),b=n(36),g=n(12),v=n(252),y=n(671),h=n(6),E=n(162),j=n(198),x=n(109),O=n.n(x);t.a=Object(p.hot)(e)((function(e){var t=e.match.params,n=t.cid,r=t.path,p=t.displayType,x=t.iv,C=t.key,w=Object(u.a)(),k=Object(E.a)(),S=Object(d.a)((function(e){console.error(e)})),I=Object(c.useState)(!1),F=Object(o.a)(I,2),D=F[0],T=F[1],z=Object(c.useState)(null),R=Object(o.a)(z,2),B=R[0],A=R[1],N=Object(c.useState)(null),L=Object(o.a)(N,2),W=L[0],H=L[1],P=Object(c.useState)(!1),U=Object(o.a)(P,2),_=U[0],M=U[1],V=Object(c.useState)("files"),K=Object(o.a)(V,2),Y=K[0],q=K[1],G=Object(c.useState)(null),X=Object(o.a)(G,2),J=X[0],Z=X[1],$=decodeURIComponent(r),Q=decodeURIComponent(n),ee=decodeURIComponent(C),te=decodeURIComponent(x),ne=Object(m.c)(),re=$.split("/"),ae=re[re.length-1],ie=Object(g.y)(Object(g.i)(ae));Object(c.useEffect)((function(){ie&&D&&!J&&"default"===p&&se()}),[ie,D,J,Q,r,p]);var oe={container:{display:w?"block":"flex",flexDirection:"row",height:"100%",maxWidth:1920,margin:"0 auto",border:k.width<=1280?null:h.a}},ce=function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.p)(S.ipfs,Q,(function(){}));case 2:t=e.sent,A(t.slice(1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.n)(Q,S.ipfs);case 2:t=e.sent,H(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function se(){return ue.apply(this,arguments)}function ue(){return(ue=Object(i.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e,t){ne(Object(b.b)({message:"[".concat(Object(g.s)(e,t),"%] Downloading")}))},!J){e.next=5;break}t=J,e.next=17;break;case 5:if(!C){e.next=13;break}return e.next=8,Object(j.catCid)(S.ipfs,Q,{Crypter:O.a,key:ee,iv:te,handleUpdate:n});case 8:r=e.sent,t=new Blob(Array.from([r.buffer])),Z(t),e.next=17;break;case 13:return e.next=15,Object(g.l)(Q,$,S.ipfs,n);case 15:t=e.sent,Z(t);case 17:return ne(Object(b.b)({})),e.abrupt("return",t);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){S.isIpfsReady&&!D&&(T(!0),ce(),le())}),[S.ipfs,S.isIpfsReady,D,p,Q]);var de=function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(Object(b.b)({message:"Fetching file"})),e.next=3,se();case 3:n=e.sent,Object(v.saveAs)(n,ae),M(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{style:oe.container},l.a.createElement(s.a,{isDownload:!0,setCurrentRightPanel:q,currentRightPanel:Y}),D?l.a.createElement(y.a,{handleDownload:de,ready:D,path:$,cid:Q,files:B,displayType:p,downloadComplete:_,fileInfo:W,fileBlob:J,ipfs:S.ipfs}):l.a.createElement(f.a,null))}))}).call(this,n(262)(e))},291:function(e,t){},36:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(50);function a(e){return{type:r.b.SET_STATUS,status:e}}function i(e){return{type:r.b.SET_SHARE_DATA,shareData:e}}},381:function(e,t,n){},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(9),a=n(1),i=n.n(a),o=n(6),c=n(76),l=n(377);function s(e){var t=e.iconComponent,n=e.onClick,a=e.size,s=e.changeColor,u=e.tooltip,d=e.title,f=e.defaultColor,p=e.id,m=e.className,b=e.disabled,g=Object(c.a)(),v=Object(r.a)(g,2),y=v[0],h=v[1],E=Object(l.a)(),j=Object(r.a)(E,2),x=j[0],O=j[1],C=Object(l.a)(),w=Object(r.a)(C,2),k=w[0],S=w[1],I=t,F=S.width?S.width:0;f||(f=o.j),s||(s=o.b),b&&(f="#DDD");var D={container:{position:"relative",display:"inline-flex",alignItems:"center",cursor:"pointer",padding:4,fontSize:14},popover:{position:"fixed",top:O.y-40||void 0,left:O.x-(F/2-8)||void 0,backgroundColor:o.j,color:"#FFF",padding:"4px 6px",border:o.a,borderRadius:2,fontSize:14,fontWeight:400,zIndex:1e3,pointerEvents:"none"},title:{color:h?s:f,marginLeft:4,textDecoration:h?"underline":"none",fontSize:13,lineHeight:"16px",whiteSpace:"nowrap"}};return i.a.createElement("div",{id:p,className:m,style:D.container,ref:y,onClick:function(e){e.stopPropagation(),b||n()}},i.a.createElement("div",{ref:x}),t?i.a.createElement(I,{color:h?s:f,size:a||16,style:D.icon}):null,d?i.a.createElement("span",{style:D.title},d):null,h&&u?i.a.createElement("div",{style:D.popover,ref:k},u):null)}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(162);function a(){return Object(r.a)().width<600}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r={ADD_INSTANCE:"ADD_INSTANCE",REMOVE_INSTANCE:"REMOVE_INSTANCE",SET_INSTANCE_INDEX:"SET_INSTANCE_INDEX",SET_INSTANCE_LABEL:"SET_INSTANCE_LABEL",CLEAR_ENCRYPTION_KEY:"CLEAR_ENCRYPTION_KEY",SET_NEW_USER:"SET_NEW_USER",ADD_CONTACT:"ADD_CONTACT",DELETE_CONTACT:"DELETE_CONTACT"},a={SET_STATUS:"SET_STATUS",SET_SHARE_DATA:"SET_SHARE_DATA"}},57:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return u}));var r=n(50);function a(e,t,n,a,i){return{type:r.a.ADD_INSTANCE,name:e,address:t,isImported:n,isEncrypted:a,label:i}}function i(e,t){return{type:r.a.ADD_CONTACT,label:t,pubKey:e}}function o(e){return{type:r.a.DELETE_CONTACT,pubKey:e}}function c(e){return{type:r.a.SET_INSTANCE_INDEX,index:e}}function l(e,t){return{type:r.a.SET_INSTANCE_LABEL,index:e,label:t}}function s(e){return{type:r.a.REMOVE_INSTANCE,index:e}}function u(e){return{type:r.a.SET_NEW_USER,bool:e}}},59:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),a=n.n(r),i=n(6),o=n(47),c=n(164);function l(e){var t=e.isVisible,n=e.body,r=e.onClose,l=e.title,s=e.noPadding,u=e.backgroundColor,d=e.positionTop,f=e.style;if(!t)return null;var p={header:{backgroundColor:i.m,color:"#FFF",padding:8,fontSize:14,display:"flex",justifyContent:"space-between",alignItems:"center"},body:{padding:s?0:14,backgroundColor:u||"#FFF"},xIcon:{cursor:"pointer"}};return a.a.createElement(c.a,{onClose:r,isVisible:t,positionTop:d,style:f},a.a.createElement("div",{style:p.container},a.a.createElement("div",{style:p.header},a.a.createElement("div",null,l),a.a.createElement(o.k,{color:"#FFF",size:16,style:p.xIcon,className:"dialogClose",onClick:r})),a.a.createElement("div",{style:p.body},n)))}},6:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return l})),n.d(t,"n",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"o",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return v}));var r="#585858",a="#F6F6F6",i="#0BBC7C",o="#C8C8C8",c="#051210",l="#2f5650",s="#426558",u="#72D2BB",d="#A4A4A4",f="#EBFFFB",p="#ef6565",m="#ef9c9c",b="#53C18C",g="#D0EFE6",v="#B2E6C7"},60:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return x}));var r=n(2),a=n.n(r),i=n(18),o=n(13),c=n(88),l=n(109),s=n.n(l),u=n(165),d=n.n(u),f=d.a.parse,p=n(393);var m=function(e){return{meta:{iv:e.iv,enc:e.enc},accessController:{type:"orbitdb",admin:[e.identity.publicKey]}}};function b(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(a.a.mark((function e(t){var n,r,o,l,u,d,f,p=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},r=n.iv||Object(c.randomBytes)(16),o=n.identity||t._orbitdb.identity,e.next=5,t.determineAddress(n.name||"sailplane/drives/".concat(r.toString("hex")),Object(i.a)(Object(i.a)({},m({iv:r,enc:n.enc,identity:o})),n));case 5:if(l=e.sent,!n.enc){e.next=21;break}if(e.t0=n.cryptoKey,e.t0){e.next=12;break}return e.next=11,s.a.generateKey();case 11:e.t0=e.sent;case 12:return u=e.t0,e.next=15,s.a.create(u);case 15:return d=e.sent,e.next=18,t.mount(l,{crypter:d,Crypter:s.a});case 18:return f=e.sent,e.next=21,f.stop();case 21:return e.abrupt("return",l);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=(new TextEncoder).encode(f(e).root);return p.entropyToMnemonic(t.slice(-32)).split(" ").slice(-3).join("-")}var y=function(e){return e._orbitdb._ipfs};function h(e,t){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(a.a.mark((function e(t,n){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t).dag.get(f(n).root);case 2:return r=e.sent,i=r.value,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j={autoStart:!1};function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t=t.toString(),e.mounted[t]||n[t]||(n[t]=e.mount(t,Object(i.a)(Object(i.a)({},j),r)).finally((function(){return delete n[t]})))}},645:function(e,t,n){"use strict";(function(e){var r=n(2),a=n.n(r),i=n(13),o=n(9),c=n(250),l=n(1),s=n.n(l),u=(n(381),n(257)),d=n(669),f=n(44),p=n(254),m=n(654),b=n.n(m),g=n(655),v=n.n(g),y=n(60),h=n(201),E=n(255),j=n(656),x=n(658),O=n(668),C=n(27),w=n(57),k=n(36),S=n(134),I=n(661),F=n(12),D=n(89),T=n.n(D),z=n(6),R=n(162),B=n(662),A=n(109),N=n.n(A);t.a=Object(E.hot)(e)((function(e){Object(c.a)(e);var t=Object(f.a)(),n=Object(R.a)(),r=Object(l.useRef)(null),m=Object(l.useRef)({}),g=Object(l.useState)(!1),E=Object(o.a)(g,2),D=E[0],A=E[1],L=Object(l.useRef)({}),W=Object(l.useState)(!1),H=Object(o.a)(W,2),P=H[0],U=H[1],_=Object(p.a)((function(e){console.log("IPFS error: "+e),U(!0)})),M=Object(l.useState)(!1),V=Object(o.a)(M,2),K=V[0],Y=V[1],q=Object(l.useState)([]),G=Object(o.a)(q,2),X=G[0],J=G[1],Z=Object(l.useState)("/r"),$=Object(o.a)(Z,2),Q=$[0],ee=$[1],te=Object(l.useState)(null),ne=Object(o.a)(te,2),re=ne[0],ae=ne[1],ie=Object(l.useState)("files"),oe=Object(o.a)(ie,2),ce=oe[0],le=oe[1],se=Object(l.useState)(!1),ue=Object(o.a)(se,2),de=ue[0],fe=ue[1],pe=Object(C.c)(),me=Object(C.d)((function(e){return e.main})),be=me.instances,ge=me.instanceIndex,ve=me.newUser,ye=be[ge],he=Object(S.a)(ge),Ee=Object(S.a)(ye),je={container:{position:"relative",display:t?"block":"flex",flexDirection:"row",height:"100%",maxWidth:1920,margin:"0 auto",border:n.width<=1280?null:z.a}};return Object(l.useEffect)((function(){(function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K&&(t=L.current.fs.ls(Q).map((function(e){var t=L.current.fs.content(e),n=e.split("/");return{path:e,name:n[n.length-1],type:t}})),J(t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[K,Q,re]),Object(l.useEffect)((function(){D&&function(){var e=Object(i.a)(a.a.mark((function e(t){var n,i,o,c,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(be.length&&(Ee!==ye||!0!==K)){e.next=2;break}return e.abrupt("return");case 2:return Y(!1),pe(Object(k.b)({message:"Looking for drive..."})),e.next=6,y.d(r.current,ye.address,m.current,{Crypter:N.a});case 6:if(n=e.sent,o=(i=function(e){return function(t,n){pe(Object(k.b)({message:"".concat(e," ").concat(Object(F.s)(t,n),"%")})),t===n&&Object(F.f)(1500).then((function(){return pe(Object(k.b)({}))}))}})("Load"),n.events.on("db.load.progress",o),c=i("Sync"),n.events.on("db.replicate.progress",c),l=function(){return ae(Date.now())},n.events.on("updated",l),n.tearDown=function(){n.events.removeListener("db.load.progress",o),n.events.removeListener("db.replicate.progress",c),n.events.removeListener("updated",l)},L.current.tearDown&&L.current.tearDown(),n.running){e.next=19;break}return e.next=19,n.start();case 19:L.current=n,t&&(ee("/r"),ae(Date.now())),Y(!0),pe(Object(k.b)({}));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(he!==ge)}),[D,ge,be]),Object(l.useEffect)((function(){var e=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.b(t,{enc:!0});case 2:n=e.sent,r=y.c(n),pe(Object(w.b)(r,n.toString(),!1,!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var t=Object(i.a)(a.a.mark((function t(n){var i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return pe(Object(k.b)({message:"Connecting"})),t.next=3,b.a.createInstance(n);case 3:return i=t.sent,t.next=6,v.a.create(i);case 6:if(o=t.sent,r.current=o,!ve&&!de||0!==be.length){t.next=11;break}return t.next=11,e(o);case 11:A(!0),pe(Object(k.b)({})),window.sailplane=o,window.all=T.a;case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();_.isIpfsReady&&t(_.ipfs)}),[_.ipfs,_.isIpfsReady]),s.a.createElement("div",{style:je.container},s.a.createElement(B.a,{isVisible:ve,onClose:function(){return pe(Object(w.g)(!1)),void fe(!0)}}),s.a.createElement(u.a,{setCurrentRightPanel:le,currentRightPanel:ce}),D?function(){var e,t;return"files"===ce?ye&&K&&L.current.access.hasRead?s.a.createElement(d.a,{isEncrypted:L.current.encrypted,sharedFs:L,ipfs:_.ipfs,directoryContents:X,setCurrentDirectory:ee,currentDirectory:Q}):(be.length?K?L.current.access.hasRead||(e="You need permission to view this drive"):(e="Looking for drive...",t=!0):e="Create a drive",s.a.createElement(h.a,{message:e,loading:t})):"settings"===ce?s.a.createElement(j.a,{sharedFS:L}):"contacts"===ce?s.a.createElement(x.a,{sharedFS:L,sailplane:r.current}):"instances"===ce?s.a.createElement(O.a,{sailplane:r.current,ipfs:_.ipfs,sharedFS:L}):void 0}():s.a.createElement(h.a,{ipfsError:P}),s.a.createElement(I.a,null))}))}).call(this,n(262)(e))},646:function(e,t,n){e.exports=n.p+"static/media/logo.843fb076.png"},656:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),a=n.n(r),i=n(6),o=n(168),c=n(47),l={container:{padding:10,paddingTop:6,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",boxSizing:"border-box"},settingItem:{lineHeight:"14px",display:"flex",alignItems:"center",color:i.m}};function s(e){var t=e.sharedFS;return a.a.createElement("div",{style:l.container},a.a.createElement(o.a,{sharedFS:t,title:"Settings",iconComponent:c.d}))}},658:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(9),a=n(1),i=n.n(a),o=n(168),c=n(47),l=n(42),s=n(6),u=n(17),d=n(202),f=n(12),p=n(256),m=n(27),b=n(108),g={container:{position:"relative",padding:10,paddingTop:6,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",boxSizing:"border-box",height:"100%"},toolsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:2,marginBottom:4,color:s.m,fontSize:12},tools:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",color:s.m,fontSize:12,backgroundColor:s.g,borderRadius:2,padding:2,border:"1px solid ".concat(s.d)},contacts:{marginTop:8}};function v(e){var t,n=e.sailplane,v=e.sharedFS,y=Object(m.d)((function(e){return e.main.contacts})),h=(null===(t=v.current)||void 0===t?void 0:t.running)?Object(f.c)(v.current.identity.publicKey):null,E=Object(a.useState)(!1),j=Object(r.a)(E,2),x=j[0],O=j[1];return i.a.createElement("div",{style:g.container},i.a.createElement(o.a,{sailplane:n,title:"Contacts",iconComponent:c.a}),i.a.createElement("div",{style:g.toolsContainer},i.a.createElement("div",{style:g.tools},i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{className:"addContact",defaultColor:s.m,changeColor:s.l,iconComponent:u.q,title:"Add contact",onClick:function(){return O(!0)}})))),i.a.createElement("div",{style:g.contacts},i.a.createElement(d.a,{pubKey:h,myID:h,key:"myid"}),y?y.map((function(e,t){return i.a.createElement(d.a,{key:t,pubKey:e.pubKey,label:e.label})})):null),i.a.createElement(p.a,{isVisible:x,onClose:function(){return O(!1)},contacts:y,myID:h}),i.a.createElement(b.a,null))}},661:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(18),a=n(78),i=n(1),o=n.n(i),c=n(17),l=(n(1661),{menuItem:{marginLeft:4,fontSize:14}}),s=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(a.Menu,{id:"menu-id"},o.a.createElement(a.Item,{className:"MenuItem",onClick:function(e){return e.props.handleDownload()}},o.a.createElement(c.e,{size:16,style:l.icon}),o.a.createElement("span",{style:Object(r.a)({},l.menuItem)},"Download")),o.a.createElement(a.Item,{className:"MenuItem",onClick:function(e){return e.props.handleEdit()}},o.a.createElement(c.f,{size:16,style:l.icon}),o.a.createElement("span",{style:Object(r.a)({},l.menuItem)},"Rename")),o.a.createElement(a.Item,{className:"MenuItem",onClick:function(e){return e.props.handleShare()}},o.a.createElement(c.r,{size:16,style:l.icon}),o.a.createElement("span",{style:Object(r.a)({},l.menuItem)},"Share")),o.a.createElement(a.Separator,null),o.a.createElement(a.Item,{className:"MenuItem delete",onClick:function(e){return e.props.handleDelete()}},o.a.createElement(c.s,{size:16,style:l.icon}),o.a.createElement("span",{style:Object(r.a)({},l.menuItem)},"Delete"))),o.a.createElement(a.Menu,{id:"menu-id-no-share"},o.a.createElement(a.Item,{className:"MenuItem",onClick:function(e){return e.props.handleDownload()}},o.a.createElement(c.e,{size:16,style:l.icon}),o.a.createElement("span",{style:Object(r.a)({},l.menuItem)},"Download")),o.a.createElement(a.Item,{className:"MenuItem",onClick:function(e){return e.props.handleEdit()}},o.a.createElement(c.f,{size:16,style:l.icon}),o.a.createElement("span",{style:Object(r.a)({},l.menuItem)},"Rename")),o.a.createElement(a.Separator,null),o.a.createElement(a.Item,{className:"MenuItem delete",onClick:function(e){return e.props.handleDelete()}},o.a.createElement(c.s,{size:16,style:l.icon}),o.a.createElement("span",{style:Object(r.a)({},l.menuItem)},"Delete"))))}},662:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(1),a=n.n(r),i=n(164),o=n(6),c=n(663),l=n.n(c),s=n(110),u=n(72),d=n(44);function f(e){var t=e.isVisible,n=e.onClose,r=Object(d.a)(),c={container:{display:r?"block":"flex",justifyContent:"space-between",color:o.l,fontFamily:"Lato",padding:12,overflow:"hidden"},title:{fontSize:23,fontWeight:600},subTitle:{marginTop:8,marginBottom:12},image:{width:300,borderRadius:8,boxShadow:"0 0px 14px hsla(0, 0%, 0%, 0.2)"},imageContainer:{display:r?"none":null,position:"relative",height:300,width:300},left:{padding:"4px 10px",paddingRight:40},modal:{maxWidth:800,backgroundColor:o.g,borderRadius:8},bold:{fontWeight:600},buttons:{marginTop:18}};return a.a.createElement(i.a,{isVisible:t,style:c.modal},a.a.createElement("div",{style:c.container},a.a.createElement("div",{style:c.left},a.a.createElement("div",{style:c.title},"Secure file sharing ",a.a.createElement("br",null)," Without any signups\ud83c\udf89"),a.a.createElement("div",{style:c.subTitle},"Upload files to private/public file ",a.a.createElement("span",{style:c.bold},"drives"),"without any limitations"),a.a.createElement("div",{style:c.items},a.a.createElement(s.a,{title:"Upload any type of file"}),a.a.createElement(s.a,{title:"Collaborate with others in shared drives"}),a.a.createElement(s.a,{title:"Create multiple drives for different occasions"}),a.a.createElement(s.a,{title:"Built on InterPlanetary File System"}),a.a.createElement(s.a,{title:"Unlimited file/drive size"})),a.a.createElement("div",{style:c.buttons},a.a.createElement(u.a,{title:"Open Drive",onClick:n}))),a.a.createElement("div",{style:c.imageContainer},a.a.createElement("img",{style:c.image,src:l.a,alt:"Intro image 1"}))))}},663:function(e,t,n){e.exports=n.p+"static/media/intro1-2.4cbfa450.png"},668:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var r=n(2),a=n.n(r),i=n(13),o=n(9),c=n(1),l=n.n(c),s=n(6),u=n(42),d=n(17),f=n(27),p=n(76),m=n(60),b=n(258),g=n(12);function v(e){var t=e.title,n=e.inverted,r={container:{backgroundColor:n?"#FFF":s.j,fontSize:13,padding:"1px 4px",borderRadius:4,marginRight:4,width:46,textAlign:"center",color:n?s.j:"#FFF",flexShrink:0}};return l.a.createElement("div",{style:r.container},t)}var y=n(59),h=n(57),E=n(72);function j(e){var t=e.onClose,n=e.isVisible,r=e.instance,a=e.instanceIndex,i=Object(f.c)(),u=Object(c.useState)(r.label),d=Object(o.a)(u,2),p=d[0],b=d[1],g=Object(c.useRef)(null);Object(c.useEffect)((function(){n?(g.current.focus(),g.current.select()):b(r.label)}),[n]);var v={title:{fontSize:16,color:s.m,marginBottom:8},labelTitle:{marginTop:12,marginBottom:4},input:{border:"1px solid ".concat(s.j),borderRadius:4,color:s.f,fontSize:14,fontWeight:200,padding:4,marginRight:4,display:"inline-flex",width:"100%",boxSizing:"border-box"},confirmBlock:{marginTop:14,display:"flex",justifyContent:"flex-end"},cancel:{marginRight:8}},j=function(){i(Object(h.f)(a,p)),t()};return l.a.createElement(y.a,{backgroundColor:s.g,isVisible:n,title:"Set nickname for ".concat(Object(m.c)(r.address)),body:l.a.createElement("div",{style:v.body},l.a.createElement("div",{style:v.title},"Nickname:"),l.a.createElement("input",{ref:g,type:"text",value:p,onChange:function(e){return b(e.target.value)},autoCorrect:"off",style:v.input,placeholder:"(ex: Work sketches)",className:"textInput",onKeyPress:function(e){"Enter"===e.key&&j()}}),l.a.createElement("div",{style:v.confirmBlock},l.a.createElement(E.a,{title:"Cancel",inverted:!1,noHover:!0,customWhiteColor:s.g,style:v.cancel,onClick:t}),l.a.createElement(E.a,{title:"Confirm",onClick:j,inverted:!0,customWhiteColor:s.g}))),onClose:t})}var x=function(e){var t=e.data,n=e.selected,r=e.onClick,y=e.onDelete,h=e.instanceIndex,E=e.onAccess,x=e.displayOnly,O=t.address,C=t.isEncrypted,w=t.label,k=Object(f.c)(),S=Object(p.a)(),I=Object(o.a)(S,2),F=I[0],D=I[1],T=Object(c.useState)(!1),z=Object(o.a)(T,2),R=z[0],B=z[1],A=Object(c.useState)(!1),N=Object(o.a)(A,2),L=N[0],W=N[1],H=!g.u,P=n?s.j:"#FFF";D&&!n&&(P=s.g);var U=n?"#FFF":s.m,_={paddingContainer:{paddingTop:3,paddingBottom:3},outer:{backgroundColor:P,color:U,padding:6,paddingTop:6,fontFamily:"Open Sans",cursor:"pointer",borderRadius:4},container:{display:"flex",justifyContent:"space-between",alignItems:"center"},address:{fontSize:14,overflow:"hidden",width:"40%",textOverflow:"ellipsis",whiteSpace:"nowrap"},tools:{display:x?"none":"flex",justifyContent:"flex-end"},name:{fontSize:16,height:38,lineHeight:"19px",display:"flex",alignItems:"center"},icon:{marginRight:4,flexShrink:0},importedTxt:{marginLeft:6,fontSize:13},label:{fontWeight:600},nameHolder:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",lineHeight:"18px",position:"relative",top:w?-2:null}},M=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)(O);case 2:Object(g.B)("Drive address copied to clipboard",k);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=[{title:"Open",onClick:function(){B(!1),r()},iconComponent:d.j},{title:"Set nickname",onClick:function(){W(!0),B(!1)},iconComponent:d.f},{title:"Manage users",onClick:function(){E(),B(!1)},iconComponent:d.v},{title:"Copy address",onClick:function(){M(),B(!1)},iconComponent:d.d},{title:"Delete",onClick:function(){y(),B(!1)},iconComponent:d.s,forceColor:s.e}],K=Object(m.c)(O);return l.a.createElement("div",{style:_.paddingContainer,ref:F},l.a.createElement("div",{className:"drive",style:_.outer,onClick:function(e){R||(H?B(!0):(e.stopPropagation(),r()))}},l.a.createElement(b.a,{isVisible:R,name:K,onClose:function(){return B(!1)},items:V}),l.a.createElement("div",{style:_.container},l.a.createElement("div",{style:_.name},l.a.createElement(d.j,{className:"shareIcon",color:U,size:18,style:_.icon}),l.a.createElement(v,{title:C?"private":"public",inverted:n}),l.a.createElement("div",{style:_.nameHolder},K,w?l.a.createElement("div",{style:_.label},"[",w,"]"):null),!D||x||H?null:l.a.createElement(u.a,{className:"instanceLabel",iconComponent:d.f,defaultColor:D&&n?"#FFF":s.m,changeColor:s.f,tooltip:"Set nickname",onClick:function(){return W(!0)}})),H?null:l.a.createElement("div",{style:_.tools},l.a.createElement(u.a,{className:"instanceAccess",defaultColor:U,iconComponent:d.v,size:15,changeColor:s.f,onClick:function(){return E()},tooltip:"Manage users"}),l.a.createElement(u.a,{className:"instanceAddressCopy",defaultColor:U,iconComponent:d.d,size:15,changeColor:s.f,tooltip:"Copy",onClick:M}),l.a.createElement(u.a,{className:"instanceDelete",defaultColor:U,iconComponent:d.s,tooltip:"Delete",size:15,changeColor:s.b,onClick:function(){return y()}})))),l.a.createElement(j,{isVisible:L,onClose:function(){return W(!1)},instance:t,instanceIndex:h}))},O=n(47),C=n(108),w=n(134),k=n(99),S=n(18),I=n(166),F=n.n(I);function D(e){var t=e.pubKey,n=e.myID,r=Object(f.d)((function(e){return e.main.contacts})),a=null===r||void 0===r?void 0:r.find((function(e){return e.pubKey===t})),i={userBlock:{color:s.l,fontSize:18,fontFamily:"Open Sans",lineHeight:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:6},adminLeft:{display:"flex",justifyContent:"flex-start",alignItems:"center"},iconHolder:{marginRight:8},adminTitle:{fontSize:12,lineHeight:"12px",textAlign:"center",color:s.m,marginBottom:3},youText:{fontSize:14,fontWeight:600}};return l.a.createElement("div",{style:i.userBlock},l.a.createElement("div",{style:i.adminLeft},l.a.createElement("div",{style:i.iconHolder},l.a.createElement(F.a,{value:t,size:"34",style:i.icon})),l.a.createElement("div",{style:i.adminNameHolder},l.a.createElement("div",null,t.slice(0,10)," ",n===t?l.a.createElement("span",{style:i.youText},"[You]"):"",(null===a||void 0===a?void 0:a.label)?l.a.createElement("span",{style:i.youText},"[",a.label,"]"):""))))}var T=n(202),z=n(256);function R(e){var t=e.isVisible,n=e.onClose,r=e.onSelected,a=Object(f.d)((function(e){return e.main.contacts})),i=Object(c.useState)(!1),p=Object(o.a)(i,2),m=p[0],b=p[1],g={container:{maxHeight:400},title:{fontSize:18,fontWeight:600},toolsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:2,marginBottom:4,color:s.m,fontSize:12},tools:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",color:s.m,fontSize:12,backgroundColor:s.g,borderRadius:2,padding:2,border:"1px solid ".concat(s.d)},noContacts:{marginTop:8}};return l.a.createElement(y.a,{positionTop:1,onClose:n,isVisible:t,title:"Contacts",body:l.a.createElement("div",{style:g.container},l.a.createElement("div",{style:g.toolsContainer},l.a.createElement("div",{style:g.tools},l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{className:"addContact",defaultColor:s.m,changeColor:s.l,iconComponent:d.q,title:"Add contact",onClick:function(){return b(!0)}})))),(null===a||void 0===a?void 0:a.length)?a.map((function(e,t){return l.a.createElement(T.a,{key:t,onClick:function(){r(e.pubKey),n()},label:e.label,pubKey:e.pubKey,hideTools:!0})})):l.a.createElement("div",{style:g.noContacts},"No existing contacts"),l.a.createElement(z.a,{isVisible:m,onClose:function(){return b(!1)},contacts:a}))})}var B={adminTools:{display:"flex",alignItems:"center",justifyContent:"flex-end"},messageText:{color:s.m,textAlign:"center",marginBottom:4},panel:{borderRadius:4,marginBottom:8,border:s.a,boxSizing:"border-box",backgroundColor:s.g},panelTitle:{display:"flex",justifyContent:"space-between",fontSize:15,lineHeight:"15px",marginBottom:4,textAlign:"center",color:s.l,padding:4,height:20},panelBody:{padding:6,backgroundColor:"#FFF"},third:{width:"33.3%",display:"flex",alignItems:"center",textAlign:"center",justifyContent:"center"}};function A(e){var t=e.type,n=e.admins,r=e.addUser,f=e.users,p=e.myID,m=e.message,b=Object(c.useState)(!1),v=Object(o.a)(b,2),y=v[0],h=v[1],E=Object(c.useState)(!1),j=Object(o.a)(E,2),x=j[0],O=j[1];return l.a.createElement("div",{style:B.panel},l.a.createElement("div",{style:B.panelTitle},y?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:B.third}),l.a.createElement("div",{style:B.third},Object(g.b)(t),"s")),l.a.createElement("div",{style:Object(S.a)(Object(S.a)(Object(S.a)({},B.adminTools),B.third),{},{justifyContent:"flex-end",width:y?"100%":"30%"})},n.includes(p)&&r?l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{iconComponent:d.q,title:"Add ".concat(t),changeColor:s.l,defaultColor:s.l,onClick:function(){return O(!0)}})):null)),l.a.createElement("div",{style:B.panelBody},l.a.createElement("div",{style:B.users},0===(null===f||void 0===f?void 0:f.length)?l.a.createElement("div",{style:B.messageText},m):null===f?l.a.createElement("div",{style:B.messageText},"Loading..."):l.a.createElement("div",null,f.map((function(e){return l.a.createElement(D,{key:e,pubKey:e,myID:p})}))))),l.a.createElement(R,{isVisible:x,onClose:function(){return O(!1)},onSelected:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t);case 2:h(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))}function N(e){var t=e.instanceToModifyAccess,n=e.onClose,r=e.sharedFS,u=Object(c.useState)(null),d=Object(o.a)(u,2),f=d[0],p=d[1],b=Object(c.useState)(null),v=Object(o.a)(b,2),h=v[0],E=v[1],j=Object(c.useState)(null),x=Object(o.a)(j,2),O=x[0],C=x[1],w=Object(c.useState)(null),S=Object(o.a)(w,2),I=S[0],F=S[1],D=Object(c.useState)(null),T=Object(o.a)(D,2),z=T[0],R=T[1],B=Object(c.useState)(null),N=Object(o.a)(B,2),L=N[0],W=N[1],H={body:{color:s.m}};Object(c.useEffect)((function(){!function(){var e=Object(g.r)(r.current),t=e.admins,n=e.writers,a=e.readers,i=e.myID;p(t),E(n),C(a),F(i)}()}),[t.address,r,L]);var P=function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(null),Object(g.C)(t)){e.next=4;break}return R("Invalid user ID!"),e.abrupt("return");case 4:return e.next=6,r.current.access.grantWrite(Object(g.e)(t));case 6:return e.next=8,r.current.access.grantRead(Object(g.e)(t));case 8:W(Date.now());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(null),Object(g.C)(t)){e.next=4;break}return R("Invalid user ID!"),e.abrupt("return");case 4:return e.next=6,r.current.access.grantRead(Object(g.e)(t));case 6:W(Date.now());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return f&&h?l.a.createElement(y.a,{isVisible:!0,title:"User permissions for ".concat(t.label||Object(m.c)(t.address)),body:l.a.createElement("div",{style:H.body},l.a.createElement(k.a,null,f.includes(I)?"You are an admin of this drive. You have full access.":h.includes(I)?"You are an editor on this drive.":"You have view access only."),z?l.a.createElement(k.a,{isError:!0},z):null,l.a.createElement("div",{style:H.panels},l.a.createElement(A,{myID:I,admins:f,users:f,type:"admin"}),l.a.createElement(A,{myID:I,addUser:P,admins:f,users:h,type:"editor",message:"Add users to editor access"}),t.isEncrypted?l.a.createElement(A,{myID:I,addUser:U,admins:f,users:O,type:"viewer",message:"Add users to view access"}):null)),onClose:n}):null}var L=n(168),W=n(110);function H(e){var t=e.title,n=e.infos,r=e.onClick,a={container:{padding:8,width:"100%",boxSizing:"border-box"},inner:{overflow:"hidden",border:"1px solid ".concat(s.j),borderRadius:4},title:{backgroundColor:s.h,padding:8,color:s.l,fontWeight:400,textAlign:"center",borderBottom:"1px solid ".concat(s.j),marginBottom:8},body:{color:s.l,padding:12},infos:{marginBottom:16}};return l.a.createElement("div",{style:a.container},l.a.createElement("div",{style:a.inner},l.a.createElement("div",{style:a.title},t),l.a.createElement("div",{style:a.body},l.a.createElement("div",{style:a.infos},null===n||void 0===n?void 0:n.map((function(e){return l.a.createElement(W.a,{title:e,key:e})}))),l.a.createElement(E.a,{title:"Create ".concat(t.toLowerCase()," drive"),inverted:!0,fullWidth:!0,onClick:r}))))}var P=n(44);function U(e){var t=e.isVisible,n=e.onClose,r=e.onPrivate,a=e.onPublic,i=Object(P.a)(),o={container:{},options:{display:i?"block":"flex",justifyContent:"space-between"}},c=[{title:"Private",infos:["AES 128 Encryption","End-to-end encrypted file data","Requires permission to read"],onClick:r},{title:"Public",infos:["Host content publicly on IPFS","Files are not encrypted","Everyone has read access"],onClick:a}];return l.a.createElement(y.a,{onClose:n,noPadding:i,title:"Create a new drive",body:l.a.createElement("div",{style:o.container},l.a.createElement("div",{style:o.options},c.map((function(e){return l.a.createElement(H,{key:e.title,title:e.title,infos:e.infos,onClick:e.onClick})})))),isVisible:t,backgroundColor:s.g})}var _=n(163),M=n(165),V=n.n(M);function K(e){var t,n=e.onClose,r=e.isVisible,u=e.instances,p=e.sailplane,b=Object(f.c)(),g=Object(c.useState)(!1),v=Object(o.a)(g,2),j=v[0],O=v[1],C=Object(c.useState)(null),w=Object(o.a)(C,2),I=w[0],F=w[1],D=Object(c.useState)(""),T=Object(o.a)(D,2),z=T[0],R=T[1],B=Object(c.useState)(null),A=Object(o.a)(B,2),N=A[0],L=A[1],W={addressInput:{display:"flex",alignItems:"center"},title:{fontSize:16,color:s.m,marginBottom:8},loading:{display:"flex",alignItems:"center",color:s.m},icon:{marginLeft:4},confirmBlock:{marginTop:14,display:"flex",justifyContent:"flex-end"},cancel:{marginRight:8},labelTitle:{marginTop:12,marginBottom:4},optional:{position:"relative",top:-8,left:4,fontSize:13},input:{border:"1px solid ".concat(s.j),borderRadius:4,color:s.f,fontSize:14,fontWeight:200,padding:4,marginRight:4,display:"inline-flex",width:"100%",boxSizing:"border-box"}},H=Object(_.a)(!j,(function(e){return U(e)}),null,"",{placeholder:"drive address",confirmTitle:"Import drive"});if(!r)return null;var P=function(){var e=Object(i.a)(a.a.mark((function e(){var t,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=N.address,r=N.manifest,i=m.c(t),b(Object(h.b)(i,t,!0,!0===r.meta.enc,z)),n();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){F("Invalid address!")},!V.a.isValid(t)){e.next=14;break}if(O(!0),!u.map((function(e){return e.address})).includes(t)){e.next=8;break}return r=m.c(t),F("Drive '".concat(r,"' already exists!")),O(!1),e.abrupt("return");case 8:return e.next=10,Object(m.a)(p,t);case 10:i=e.sent,L({address:t,manifest:i}),e.next=15;break;case 14:n();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(y.a,{backgroundColor:s.g,isVisible:!0,title:"Import drive",body:l.a.createElement("div",{style:W.body},j?N?l.a.createElement("div",null,l.a.createElement("div",{style:W.title},"Drive has been located!"),l.a.createElement("div",{style:W.loadedDrive},l.a.createElement(x,{displayOnly:!0,selected:!0,data:{address:N.address,isEncrypted:null===(t=N.manifest.meta)||void 0===t?void 0:t.enc}})),l.a.createElement("div",{style:Object(S.a)(Object(S.a)({},W.title),W.labelTitle)},"Nickname",l.a.createElement("span",{style:W.optional},"(optional)")),l.a.createElement("input",{type:"text",onChange:function(e){return R(e.target.value)},autoCorrect:"off",style:W.input,placeholder:"(ex: Work sketches)",className:"textInput"}),l.a.createElement("div",{style:W.confirmBlock},l.a.createElement(E.a,{title:"Cancel",inverted:!1,noHover:!0,customWhiteColor:s.g,style:W.cancel,onClick:n}),l.a.createElement(E.a,{title:"Confirm",onClick:P,inverted:!0,customWhiteColor:s.g}))):l.a.createElement("div",{style:W.loading},"Looking for drive",l.a.createElement(d.l,{color:s.m,size:16,style:W.icon,className:"rotating"})):l.a.createElement("div",null,l.a.createElement("div",{style:W.title},"Paste a drive address below to import it into your drives"),I?l.a.createElement(k.a,{isError:!0},I):null,l.a.createElement("div",{style:W.addressInput},j?null:H))),onClose:n})}var Y={container:{position:"relative",padding:10,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",fontFamily:"Open Sans",boxSizing:"border-box",paddingTop:6,height:"100%"},icon:{cursor:"pointer",marginRight:4},toolsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:2,marginBottom:4,color:s.m,fontSize:12},tools:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",color:s.m,fontSize:12,backgroundColor:s.g,borderRadius:2,padding:2,border:"1px solid ".concat(s.d)},instances:{height:"100%"}};function q(e){var t=e.sailplane,n=e.sharedFS,r=Object(c.useState)(!1),p=Object(o.a)(r,2),b=p[0],g=p[1],v=Object(c.useState)(!1),y=Object(o.a)(v,2),E=y[0],j=y[1],k=Object(c.useState)(null),S=Object(o.a)(k,2),I=S[0],F=S[1],D=Object(f.c)(),T=Object(f.d)((function(e){return e.main})),z=T.instances,R=T.instanceIndex,B=Object(w.a)(z.length);Object(c.useEffect)((function(){B&&B<z.length&&D(Object(h.e)(z.length-1))}),[z.length,B]);var A=function(){var e=Object(i.a)(a.a.mark((function e(n){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!1),e.next=3,m.b(t,{enc:n});case 3:r=e.sent,i=m.c(r),D(Object(h.b)(i,r.toString(),!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{style:Y.container},l.a.createElement(L.a,{sailplane:t,title:"Drives",iconComponent:O.j}),l.a.createElement("div",{style:Y.toolsContainer},l.a.createElement("div",{style:Y.tools},l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{className:"importInstance",defaultColor:s.m,changeColor:s.l,iconComponent:d.u,title:"Import drive",onClick:function(){return g(!0)}}),l.a.createElement(u.a,{className:"addInstance",defaultColor:s.m,changeColor:s.l,iconComponent:d.q,title:"Create drive",onClick:function(){return j(!0)}})))),l.a.createElement("div",{style:Y.instances},z.map((function(e,t){return l.a.createElement(x,{instanceIndex:t,key:e.address.toString(),data:e,selected:e===z[R],onClick:function(){D(Object(h.e)(t))},onDelete:function(){D(Object(h.d)(t))},onAccess:function(){D(Object(h.e)(t)),setTimeout((function(){return F(e)}),500)}})}))),I?l.a.createElement(N,{onClose:function(){return F(null)},instanceToModifyAccess:I,sharedFS:n}):null,l.a.createElement(U,{isVisible:E,onClose:function(){return j(!1)},onPrivate:function(){return A(!0)},onPublic:function(){return A(!1)}}),b?l.a.createElement(K,{sharedFS:n,onClose:function(){return g(!1)},isVisible:b,sailplane:t,instances:z}):null,l.a.createElement(C.a,null))}},669:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var r=n(18),a=n(2),i=n.n(a),o=n(13),c=n(204),l=n(9),s=n(1),u=n.n(s),d=n(670),f=n(6),p=n(648),m=n.n(p),b=n(27),g=n(36),v=n(12),y=n(17),h=n(44);function E(e){var t=e.handleOpenUpload,n=e.isActive,a=Object(h.a)()?"Tap to upload files":"Drag files to upload or click here",i={container:{border:"2px dashed ".concat(f.j),backgroundColor:n?f.i:null,borderRadius:4,padding:18,height:n?"100%":null,boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"},icon:{padding:"0 6px"},dragTitle:{color:n?f.m:f.j,fontSize:16,fontWeight:400,marginTop:2},iconContainer:{display:"inline-block"},outer:{paddingTop:4,height:"100%",boxSizing:"border-box"}},o=n?f.m:f.j;return u.a.createElement("div",{style:i.outer},u.a.createElement("div",{style:i.container,onClick:n?null:t},u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("div",{className:n?"jumpingDrop":"jumping",style:Object(r.a)(Object(r.a)({},i.iconContainer),{},{animationDelay:".5s"})},u.a.createElement(y.k,{color:o,size:20,style:Object(r.a)({},i.icon)})),u.a.createElement("div",{className:n?"jumpingDrop":"jumping",style:Object(r.a)(Object(r.a)({},i.iconContainer),{},{animationDelay:".75s"})},u.a.createElement(y.h,{color:o,size:20,style:Object(r.a)({},i.icon)})),u.a.createElement("div",{className:n?"jumpingDrop":"jumping",style:Object(r.a)(Object(r.a)({},i.iconContainer),{},{animationDelay:"1s"})},u.a.createElement(y.n,{color:o,size:20,style:Object(r.a)({},i.icon)})),u.a.createElement("div",{className:n?"jumpingDrop":"jumping",style:Object(r.a)(Object(r.a)({},i.iconContainer),{},{animationDelay:"1.25s"})},u.a.createElement(y.w,{color:o,size:20,style:Object(r.a)({},i.icon)}))),u.a.createElement("div",{style:i.dragTitle},n?"Drop to upload":a))))}function j(e,t){var n=e.children,r=e.sharedFs,a=e.currentDirectory,c={container:{cursor:"pointer",textAlign:"center",color:f.o,fontSize:16,fontWeight:200,fontFamily:"Open Sans",outline:0,userSelect:"none",height:"100%"}},l=Object(b.c)(),p=Object(s.useCallback)(function(){var e=Object(o.a)(i.a.mark((function e(t){var n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(Object(g.b)({message:"Uploading"})),n=m()(t,{preserveMtime:!0}),o=t.reduce((function(e,t){return t.size+e}),0),e.prev=3,e.next=6,r.current.upload(a,n,{progress:function(e){l(Object(g.b)({message:"[".concat(Object(v.s)(e,o),"%] Uploading files")}))}});case 6:l(Object(g.b)({})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),l(Object(g.b)({message:"Missing write permissions.",isError:!0})),Object(v.f)(4e3).then((function(){return l(Object(g.b)({}))}));case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),[a]),y=Object(d.a)({onDrop:p,noClick:!0}),h=y.getRootProps,j=y.getInputProps,x=y.isDragActive,O=y.open;return Object(s.useImperativeHandle)(t,(function(){return{openUpload:function(){O()}}})),u.a.createElement("div",Object.assign({},h(),{style:c.container,id:"dropZone"}),u.a.createElement("input",Object.assign({},j(),{id:"fileUpload"})),x?u.a.createElement(E,{isActive:!0}):u.a.createElement("div",null,n))}j=Object(s.forwardRef)(j);var x=n(42),O=n(47),C=n(250),w=n(76);function k(e){var t=e.data,n=e.onClick,r=Object(w.a)(),a=Object(l.a)(r,2),i=a[0],o=a[1],c=t.name,s=t.isEncrypted,d=t.label,p=s?y.m:y.t,m={container:{backgroundColor:o?f.m:"#FFF",color:o?"#FFF":f.m,padding:"6px 6px",display:"flex",alignItems:"center",minWidth:9*c.length,zIndex:200},icon:{marginRight:4}};return u.a.createElement("div",{className:"smallInstanceItem",style:m.container,ref:i,onClick:n},u.a.createElement(y.j,{color:o?"#FFF":f.m,size:16,style:m.icon}),u.a.createElement(p,{color:o?"#FFF":f.m,size:14,style:m.icon}),d||c)}var S=n(57);function I(e){Object(C.a)(e);var t=Object(b.d)((function(e){return e.main})),n=Object(b.c)(),r=t.instances,a=t.instanceIndex,i=r[a],o=Object(s.useState)(!1),c=Object(l.a)(o,2),d=c[0],p=c[1],m=r.filter((function(e){return e!==i})),g={container:{display:r.length>1?"flex":"none",alignItems:"center",position:"relative",marginRight:6,border:"1px solid ".concat(f.d),borderBottomWidth:d?0:1,color:f.m,padding:"3px 6px",borderRadius:"4px 4px ".concat(d?0:4,"px ").concat(d?0:4,"px"),fontSize:14,fontWeight:400},menu:{backgroundColor:"#FFF",position:"absolute",minWidth:196,top:25,left:-1,border:"1px solid ".concat(f.d),color:f.m,zIndex:2},icon:{marginRight:4}},v=(null===i||void 0===i?void 0:i.isEncrypted)?y.m:y.t;return u.a.createElement("span",{style:g.container,onClick:function(){m.length&&p(!d)}},u.a.createElement(y.j,{color:f.m,size:16,style:g.icon}),u.a.createElement(v,{color:f.m,size:14,style:g.icon}),u.a.createElement("span",{id:"currentInstanceSelector"},(null===i||void 0===i?void 0:i.label)||(null===i||void 0===i?void 0:i.name)),d?u.a.createElement("div",{style:g.menu},m.map((function(e,t){return u.a.createElement(k,{key:t,data:e,onClick:function(){var t=r.findIndex((function(t){return t===e}));n(Object(S.e)(t))}})}))):null)}var F={container:{display:"flex",flexDirection:"row",alignItems:"center",fontSize:16,color:f.m,fontFamily:"Open Sans",fontWeight:400,userSelect:"none",flexWrap:"wrap"},icon:{marginRight:4},root:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",fontWeight:400},folderIcon:{marginLeft:4,marginRight:4},folderName:{fontWeight:400,cursor:"pointer",marginLeft:2,marginRight:2}};function D(e){var t=e.currentDirectory,n=e.setCurrentDirectory,r=t.split("/").slice(2);return u.a.createElement("div",{style:F.container},u.a.createElement("div",{onClick:function(){return n("/r")},style:F.root},u.a.createElement(O.c,{color:f.m,size:16,style:F.icon}),u.a.createElement(I,null)," /"),r.map((function(e,t){for(var a="/r",i=0;i<=t;i++)a+="/".concat(r[i]);return u.a.createElement("span",{key:e},u.a.createElement("span",{style:F.folderName,className:"folderName",onClick:function(){n(a)}},e),"/")})))}var T=n(163),z={tools:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",fontFamily:"Open Sans",marginTop:4,marginBottom:10},leftTools:{display:"flex",alignItems:"center"},rightTools:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}};function R(e){var t=e.currentDirectory,n=e.sharedFs,r=e.setCurrentDirectory,a=e.handleOpenUpload,c=e.isEncrypted,d=Object(s.useState)(!1),p=Object(l.a)(d,2),m=p[0],E=p[1],j=Object(b.c)(),O=t.split("/"),C=O[O.length-1],w=Object(h.a)(),k=Object(v.g)(n.current),S=function(){var e=Object(o.a)(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.current.mkdir(t,r);case 3:E(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Mkdir error",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),I=Object(T.a)(m,(function(e){return S(e)}),(function(){return E(!1)}),"",{placeholder:"folder name"});return u.a.createElement("div",null,u.a.createElement("div",{style:z.tools},u.a.createElement("div",{style:z.leftTools},w&&m?null:u.a.createElement(D,{currentDirectory:t,setCurrentDirectory:r})),u.a.createElement("div",{style:z.rightTools},m?null:u.a.createElement(u.a.Fragment,null,"/r"!==t?u.a.createElement(x.a,{id:"folderShare",disabled:c,iconComponent:y.r,size:18,changeColor:c?"#DDD":f.l,onClick:function(){j(Object(g.a)({name:C,path:t,pathType:"dir"}))}}):null,u.a.createElement(x.a,{iconComponent:y.u,size:18,changeColor:f.l,onClick:function(){a()}}),k?u.a.createElement(x.a,{id:"addFolder",iconComponent:y.i,size:18,changeColor:f.l,onClick:function(){return E(!0)}}):null),m?u.a.createElement(u.a.Fragment,null,I):null)))}var B=n(203),A=n(108),N=n(59),L={filename:{color:f.m},input:{border:"1px solid ".concat(f.j),borderRadius:4,color:f.f,fontSize:14,fontWeight:200,padding:4,display:"inline-flex",flexGrow:2,marginTop:8},flex:{display:"flex"},link:{marginTop:8,color:"".concat(f.m," !important"),fontSize:14},loading:{display:"flex",alignItems:"center",color:f.m,marginTop:10,fontSize:14},icon:{marginRight:4},nameHolder:{display:"flex",justifyContent:"space-between",alignItems:"center"}},W=[{name:"default",icon:y.g},{name:"image",icon:y.k},{name:"audio",icon:y.n}];function H(e){var t=e.sharedFs,n=Object(b.c)(),r=Object(b.d)((function(e){return e.tempData.shareData})),a=Object(s.useRef)(null),c=r.CID,d=r.path,p=r.name,m=r.pathType,h=Object(s.useState)(0),E=Object(l.a)(h,2),j=E[0],x=E[1],O=Object(s.useState)(c),C=Object(l.a)(O,2),w=C[0],k=C[1],S=Object(s.useState)(null),I=Object(l.a)(S,2),F=I[0],D=I[1];if(Object(s.useEffect)((function(){p?k(c):(k(null),x(0))}),[p,c]),Object(s.useEffect)((function(){var e=function(){var e=Object(o.a)(i.a.mark((function e(){var n,r,a,o,c,l,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.current.read(d);case 2:n=e.sent,t.current.encrypted&&"dir"!==m&&(r=t.current.fs.read(d),a=r.key,o=r.iv,D({key:a,iv:o})),k(n),"dir"===m&&(c=t.current.fs.ls(d).map((function(e){var n=t.current.fs.content(e),r=d.split("/");return{path:e,name:r[r.length-1],type:n}})),l=Object(v.t)(c),s=W.findIndex((function(e){return e.name===l})),x(s));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!w&&d?e():a.current&&a.current.select()}),[w,d]),!d)return null;var T="".concat(window.location.origin+window.location.pathname,"#/download/").concat(encodeURIComponent(w),"/").concat(encodeURIComponent(d),"/").concat(W[j].name);(null===F||void 0===F?void 0:F.key)&&(T="".concat(window.location.origin+window.location.pathname,"#/download/").concat(encodeURIComponent(w),"/").concat(encodeURIComponent(F.iv),"/").concat(encodeURIComponent(F.key),"/").concat(encodeURIComponent(d),"/").concat(W[j].name));var z=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(T);case 2:Object(v.B)("Share link copied to clipboard",n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.a.createElement(N.a,{title:"Share options",onClose:function(){return n(Object(g.a)({}))},isVisible:d,body:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{style:L.nameHolder},u.a.createElement("div",{style:L.filename},p),u.a.createElement("div",null)),w?u.a.createElement("div",null,u.a.createElement("div",{style:L.flex},u.a.createElement("input",{ref:a,style:L.input,type:"text",value:T,readOnly:!0})),u.a.createElement("div",{style:L.link},u.a.createElement("a",{href:"#",className:"link",onClick:z},"Copy link"))):u.a.createElement("div",{style:L.loading},u.a.createElement(y.l,{color:f.m,size:16,style:L.icon,className:"rotating"}),"Loading share link..."))})}var P=n(167);function U(e){var t=e.data,n=e.sharedFs,r=e.setCurrentDirectory,a=e.ipfs,i=e.fileIndex,o=e.isParent,c=e.onIconClicked;return u.a.createElement(B.b,{draggableId:t.path,index:i},(function(e,l){var s=e.innerRef,d=e.draggableProps,f=e.dragHandleProps;return u.a.createElement("div",Object.assign({ref:s},d,f,{style:Object(v.m)(d.style,l)}),u.a.createElement(P.a,{sharedFs:n,setCurrentDirectory:r,isParent:o,fileIndex:i,ipfs:a,data:t,snapshot:l,onIconClicked:c}))}))}var _=n(253),M={container:{position:"relative",padding:10,backgroundColor:"#FFF",width:"100%",display:"flex",flexDirection:"column",fontFamily:"Open Sans",boxSizing:"border-box",height:"100%"},fileHeader:{marginTop:10,display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:"1px solid ".concat(f.i),paddingBottom:10,marginBottom:4,userSelect:"none"},fileHeaderItem:{width:"100%",color:f.k,fontSize:12,letterSpacing:1.08,textAlign:"left"},files:{backgroundColor:"#FFF"},dropContainer:{display:"flex",flexDirection:"column",alignItems:"stretch",flexGrow:2,opacity:1,height:"100%",overflowY:"auto"}};function V(e){var t=e.sharedFs,n=e.ipfs,a=e.directoryContents,d=e.setCurrentDirectory,f=e.currentDirectory,p=e.isEncrypted,m=Object(h.a)(),y=Object(s.useRef)(null),x=Object(v.D)(a),O=f.split("/"),C=O.slice(0,O.length-1).join("/"),w=Object(s.useState)(!1),k=Object(l.a)(w,2),S=k[0],I=k[1],F=Object(s.useState)(null),D=Object(l.a)(F,2),T=D[0],z=D[1],N=Object(s.useState)(""),L=Object(l.a)(N,2),W=L[0],P=L[1],V=Object(s.useState)(""),K=Object(l.a)(V,2),Y=K[0],q=K[1],G=Object(s.useRef)({}),X=Object(s.useRef)({}),J=Object(b.c)(),Z=function(e){var t=e.type,n=e.name;return"file"===t&&Object(v.z)(Object(v.i)(n))},$=function(e){var t=x.filter(Z).map((function(e){return e.path})),n=Object(c.a)(new Set([].concat(Object(c.a)(t),[e]))).sort(v.a),r=n.indexOf(e);return{prev:n[(r+n.length-1)%n.length],next:n[(r+1)%n.length]}},Q=function(e,t){return function(n){return e===X.current&&t===G.current&&n()}},ee=function(e){return function(t,n){return e((function(){return q(t===n?"":"Loading... [".concat(Object(v.s)(t,n),"%]"))}))}},te=function(){var e=Object(o.a)(i.a.mark((function e(n){var r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Date.now(),X.current=n,G.current=r,a=Q(n,r),z(null),a((function(){return P(t.current.fs.pathName(n))})),e.next=8,t.current.cat(n,{handleUpdate:ee(a)}).data();case 8:o=e.sent,a((function(){return z(window.URL.createObjectURL(new Blob([o])))}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.path;(t=t||null)?te(t):z(t),I(Boolean(t))};return u.a.createElement("div",{style:M.container},S&&u.a.createElement(_.a,{prevSrc:"./empty.png",nextSrc:"./empty.png",mainSrc:T,onMovePrevRequest:function(){return te($(X.current).prev)},onMoveNextRequest:function(){return te($(X.current).next)},onCloseRequest:function(){return ne(!1)},imageTitle:W,imageCaption:Y}),u.a.createElement(R,{currentDirectory:f,sharedFs:t,setCurrentDirectory:d,isEncrypted:p,handleOpenUpload:function(){y.current.openUpload()}}),u.a.createElement("div",{style:M.fileHeader},u.a.createElement("div",{style:Object(r.a)(Object(r.a)({},M.fileHeaderItem),{},{paddingLeft:12})},"Name"),m?null:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{style:Object(r.a)(Object(r.a)({},M.fileHeaderItem),{},{textAlign:"right"})},"Size"),u.a.createElement("div",{style:Object(r.a)(Object(r.a)({},M.fileHeaderItem),{},{textAlign:"right"})},"Modified")),u.a.createElement("div",{style:M.fileHeaderItem})),u.a.createElement("div",{style:M.dropContainer},u.a.createElement(j,{sharedFs:t,currentDirectory:f,ref:y},u.a.createElement(B.a,{onDragEnd:function(){var e=Object(o.a)(i.a.mark((function e(n){var r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.combine,a=n.draggableId,!r){e.next=14;break}if(o=t.current.fs.pathName(a),"dir"===t.current.fs.content(r.draggableId)){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,t.current.move(n.draggableId,n.combine.draggableId,o);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),J(Object(g.b)({message:"failed to move ".concat(n.draggableId),isError:!0})),Object(v.f)(2e3).then((function(){return J(Object(g.b)({}))}));case 14:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}()},u.a.createElement(B.c,{droppableId:"droppable-1",type:"fileblock",isCombineEnabled:!0},(function(e,r){return u.a.createElement("div",{style:M.filesContainer},"/r"!==f?u.a.createElement(U,{fileIndex:0,isParent:!0,key:C,data:{path:C,type:"dir"},sharedFs:t,ipfs:n,setCurrentDirectory:d}):null,u.a.createElement("div",Object.assign({ref:e.innerRef,style:{}},e.droppableProps),a.length?u.a.createElement("div",{style:M.files},x.map((function(e,r){return u.a.createElement(U,{fileIndex:r+1,key:e.path,data:e,sharedFs:t,ipfs:n,setCurrentDirectory:d,onIconClicked:Z(e)?function(){return ne(e)}:null})}))):u.a.createElement(E,{handleOpenUpload:function(){y.current.openUpload()}}),u.a.createElement("span",{style:{display:"none"}},e.placeholder)))}))))),u.a.createElement(A.a,null),u.a.createElement(H,{sharedFs:t}))}},671:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(18),a=n(9),i=n(1),o=n.n(i),c=n(108),l=n(6),s=n(2),u=n.n(s),d=n(13),f=n(12);function p(e){var t=e.file,n=e.onLoadURL,r=e.fileIndex,c=e.onClick,s=Object(i.useState)(null),p=Object(a.a)(s,2),m=p[0],b=p[1],g=Object(i.useState)(0),v=Object(a.a)(g,2),y=v[0],h=v[1],E={container:{padding:8,color:l.m,fontSize:14},img:{padding:8,background:"center/cover url(".concat(m,")"),minWidth:140,minHeight:200,justifyContent:"center",alignItems:"center",display:"flex",cursor:"pointer"}};function j(){return(j=Object(d.a)(u.a.mark((function e(){var a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.h)(t,(function(e,t){h(Object(f.s)(e,t))}));case 3:a=e.sent,i=window.URL.createObjectURL(a),b(i),n(i,r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("err filetoblob",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){!function(){j.apply(this,arguments)}()}),[]),o.a.createElement("div",{style:E.container},o.a.createElement("div",{className:"imageGalleryBlock",style:E.img,onClick:function(){return c()}},m?null:o.a.createElement("div",null,y,"%")))}var m=n(253);n(643);function b(e){var t=e.files,n=Object(i.useState)(!1),r=Object(a.a)(n,2),c=r[0],l=r[1],s=Object(i.useState)(0),u=Object(a.a)(s,2),d=u[0],b=u[1],g=Object(i.useState)(new Array(1e3)),v=Object(a.a)(g,2),y=v[0],h=v[1],E=Object(f.j)(t);return o.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",flexWrap:"wrap"}},c&&y[d]?o.a.createElement(m.a,{mainSrc:y[d],nextSrc:y[d+1],prevSrc:y[d-1],onMoveNextRequest:function(){return b(d+1)},onMovePrevRequest:function(){return b(d-1)},onCloseRequest:function(){return l(!1)}}):null,E?E.map((function(e,t){return o.a.createElement(p,{key:t,file:e,fileIndex:t,onClick:function(){y[t]&&(b(t),l(!0))},onLoadURL:function(e){var n=y;n[t]=e,h(n)}})})):null)}var g=n(251),v=n(167),y=n(44);function h(e){var t=e.currentAudio,n=e.setPlaying,r={outer:{width:"100%",backgroundColor:l.i,padding:18,borderRadius:4,boxShadow:"rgb(70, 145, 191) 0px 0px 4px",marginTop:10,marginBottom:8},container:{width:"100%",color:"#FFF",backgroundColor:l.j,borderRadius:4,display:"flex",flexDirection:"column",justifyContent:"center",marginBottom:10,height:50,boxShadow:"1px 2px 3px #4691bfad inset"},name:{fontFamily:"MuseoModerno",lineHeight:"16px",fontWeight:"500",fontStyle:"italic",textAlign:"center"},audio:{width:"100%",userSelect:"none",outline:0,boxShadow:"0px 0px 2px ".concat(l.l),borderRadius:30}},a=Object(i.useRef)(null),c={filename:"Not Playing"};return t&&(c=t),o.a.createElement("div",{style:r.outer},o.a.createElement("div",{style:r.container},o.a.createElement("div",{style:r.name},f.w?o.a.createElement("marquee",{scrollamount:4,behavior:"scroll"},c.filename?c.filename:"Not playing"):o.a.createElement("div",null,c.filename?c.filename:"Not playing"))),o.a.createElement("audio",{ref:a,style:r.audio,onPlay:function(){n(!0)},onPause:function(){n(!1)},onEnded:function(){n(!1)},autoPlay:!0,src:c.url,controls:!0}))}var E=n(134),j=n(93),x=n(27),O=n(36),C=n(17);function w(e){var t=e.files,n=e.ipfs,c={container:{display:"flex",width:"100%",justifyContent:"center",flexWrap:"wrap"},fileContainer:{width:"100%"},fileHeader:{marginTop:20,display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:"1px solid ".concat(l.i),paddingBottom:10,marginBottom:4},fileHeaderItem:{width:"100%",color:l.k,fontSize:12,letterSpacing:1.08,textAlign:"left"}},s=Object(x.c)(),p=Object(i.useState)(-1),m=Object(a.a)(p,2),b=m[0],g=m[1],w=Object(i.useState)(new Array(1e3)),k=Object(a.a)(w,2),S=k[0],I=k[1],F=Object(i.useState)(!1),D=Object(a.a)(F,2),T=D[0],z=D[1],R=Object(E.a)(b),B=t?t.filter((function(e){var t=Object(f.i)(e.name);return Object(f.x)(t)})):null,A=Object(y.a)(),N=Object(f.D)(B);function L(e){return W.apply(this,arguments)}function W(){return(W=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.h)(t,(function(e,t){s(Object(O.b)({message:"[".concat(Object(f.s)(e,t),"%] Downloading audio")}))}));case 2:return n=e.sent,s(Object(O.b)({})),r=window.URL.createObjectURL(n),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(i.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R!==b){e.next=2;break}return e.abrupt("return");case 2:if(S[b]){e.next=11;break}if(t=N[b]){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,L(t);case 8:n=e.sent,r=Object(j.a)(S,(function(e){e[b]=n})),I(r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[b,S,N]);var H=N[b],P=S[b],U={filename:null===H||void 0===H?void 0:H.name,url:P};return o.a.createElement("div",{style:c.container},o.a.createElement(h,{currentAudio:U,setPlaying:z}),N?o.a.createElement("div",{style:c.fileContainer},o.a.createElement("div",{style:c.fileHeader},o.a.createElement("div",{style:Object(r.a)(Object(r.a)({},c.fileHeaderItem),{},{paddingLeft:12})},"Name"),A?null:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:Object(r.a)(Object(r.a)({},c.fileHeaderItem),{},{textAlign:"right"})},"Size"),o.a.createElement("div",{style:Object(r.a)(Object(r.a)({},c.fileHeaderItem),{},{textAlign:"right"})},"Modified")),o.a.createElement("div",{style:c.fileHeaderItem})),N.map((function(e,t){return o.a.createElement(v.a,{forceIcon:!0===T&&b===t?C.o:C.p,data:e,setCurrentDirectory:function(){},readOnly:!0,ipfs:n,onIconClicked:function(){t!==b&&g(t)}})}))):null)}var k={container:{position:"relative",padding:10,paddingTop:20,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",boxSizing:"border-box"},filename:{color:l.m,fontSize:20,textAlign:"center",borderBottom:"1px solid ".concat(l.i),paddingBottom:6,marginBottom:6},fileSize:{fontSize:14,textAlign:"center",color:l.m},downloadButton:{display:"inline-block",backgroundColor:l.m,color:"#FFF",borderRadius:4,padding:12,marginTop:10,cursor:"pointer"},icon:{marginRight:4},passwordContainer:{display:"inline-flex",alignItems:"center",marginTop:10},downloadButtonHolder:{textAlign:"center",marginBottom:8},previewBlock:{display:"flex",justifyContent:"center",marginTop:10},fileHeader:{marginTop:20,display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:"1px solid ".concat(l.i),paddingBottom:10,marginBottom:4},fileHeaderItem:{width:"100%",color:l.k,fontSize:12,letterSpacing:1.08,textAlign:"left"}};function S(e){var t=e.ready,n=e.path,l=e.handleDownload,s=e.downloadComplete,u=e.displayType,d=e.files,p=e.fileInfo,m=e.fileBlob,h=e.ipfs,E=n.split("/"),j=E[E.length-1],x=Object(i.useState)(!1),O=Object(a.a)(x,2),C=O[0],S=O[1],I=Object(y.a)(),F=Object(f.D)(d);return o.a.createElement("div",{style:k.container},o.a.createElement("div",null,t?o.a.createElement("div",null,o.a.createElement("div",{style:k.filename},j),o.a.createElement("div",{style:k.downloadButtonHolder},o.a.createElement("div",{style:k.downloadButton,onClick:function(){S(!0),l()}},C&&!s?"Fetching download...":"Download now")),(null===p||void 0===p?void 0:p.size)?o.a.createElement("div",{style:k.fileSize},Object(f.v)(p.size)):null,m?o.a.createElement("div",{style:k.previewBlock},o.a.createElement("div",{style:k.preview},o.a.createElement(g.a,{blob:m,filename:j,size:"large"}))):null,"default"!==u?o.a.createElement("div",null,"image"===u?o.a.createElement(b,{files:d}):null,"audio"===u?o.a.createElement(w,{files:d,ipfs:h}):null):null,F.length&&"audio"!==u?o.a.createElement("div",{style:k.fileContainer},o.a.createElement("div",{style:k.fileHeader},o.a.createElement("div",{style:Object(r.a)(Object(r.a)({},k.fileHeaderItem),{},{paddingLeft:12})},"Name"),I?null:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:Object(r.a)(Object(r.a)({},k.fileHeaderItem),{},{textAlign:"right"})},"Size"),o.a.createElement("div",{style:Object(r.a)(Object(r.a)({},k.fileHeaderItem),{},{textAlign:"right"})},"Modified")),o.a.createElement("div",{style:k.fileHeaderItem})),F.map((function(e){return o.a.createElement(v.a,{key:e.name,data:e,setCurrentDirectory:function(){},readOnly:!0,ipfs:h})}))):null):o.a.createElement("div",null)),o.a.createElement(c.a,null))}},673:function(e,t,n){e.exports=n(1668)},678:function(e,t,n){},691:function(e,t){},692:function(e,t){},714:function(e,t){},716:function(e,t){},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(18),a=n(9),i=n(1),o=n.n(i),c=n(6),l=n(76);function s(e){var t=e.title,n=e.onClick,i=e.inverted,s=e.fullWidth,u=e.customFillColor,d=e.customWhiteColor,f=e.style,p=e.noHover,m=e.id,b=Object(l.a)(),g=Object(a.a)(b,2),v=g[0],y=g[1],h=u||c.m,E=d||"#FFF",j=null,x=h,O=h,C=E;i&&(j=h,x=null,O=E,C=h);var w={container:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":null,backgroundColor:y&&!p?x:j,color:y&&!p?C:O,borderRadius:4,padding:"6px 8px",border:"1px solid ".concat(h),cursor:"pointer",userSelect:"none",boxSizing:"border-box"}};return o.a.createElement("div",{id:m,ref:v,style:Object(r.a)(Object(r.a)({},w.container),f),onClick:n},t)}},725:function(e,t){},727:function(e,t){},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(9),a=n(1);function i(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],o=Object(a.useCallback)((function(){return i(!0)}),[]),c=Object(a.useCallback)((function(){return i(!1)}),[]),l=Object(a.useRef)();return[Object(a.useCallback)((function(e){l.current&&(l.current.removeEventListener("mouseenter",o),l.current.removeEventListener("mouseleave",c)),l.current=e,l.current&&(l.current.addEventListener("mouseenter",o),l.current.addEventListener("mouseleave",c))}),[o,c]),n]}},762:function(e,t){},770:function(e,t){},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),a=n.n(r),i=n(6);function o(e){var t=e.children,n=e.isError,r={container:{backgroundColor:n?i.e:i.g,color:n?"#FFF":i.l,fontSize:14,padding:6,borderRadius:4,marginBottom:8,border:i.a}};return a.a.createElement("div",{style:r.container},t)}}},[[673,2,3]]]);
//# sourceMappingURL=main.f8222354.chunk.js.map